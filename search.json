[{"path":[]},{"path":"https://bcgov.github.io/climr/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"NA","text":"interest fostering open welcoming environment, contributors maintainers pledge making participation project community harassment-free experience everyone, regardless age, body size, disability, ethnicity, gender identity expression, level experience, nationality, personal appearance, race, religion, sexual identity orientation.","code":""},{"path":"https://bcgov.github.io/climr/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"NA","text":"Examples behavior contributes creating positive environment include: Using welcoming inclusive language respectful differing viewpoints experiences Gracefully accepting constructive criticism Focusing best community Showing empathy towards community members Examples unacceptable behavior participants include: use sexualized language imagery unwelcome sexual attention advances Trolling, insulting/derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical electronic address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://bcgov.github.io/climr/CODE_OF_CONDUCT.html","id":"our-responsibilities","dir":"","previous_headings":"","what":"Our Responsibilities","title":"NA","text":"Project maintainers responsible clarifying standards acceptable behavior expected take appropriate fair corrective action response instances unacceptable behavior. Project maintainers right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, ban temporarily permanently contributor behaviors deem inappropriate, threatening, offensive, harmful.","code":""},{"path":"https://bcgov.github.io/climr/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"NA","text":"Code Conduct applies within project spaces public spaces individual representing project community. Examples representing project community include using official project e-mail address, posting via official social media account, acting appointed representative online offline event. Representation project may defined clarified project maintainers.","code":""},{"path":"https://bcgov.github.io/climr/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"NA","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported contacting project team colin.mahony@gov.bc.ca. complaints reviewed investigated result response deemed necessary appropriate circumstances. project team obligated maintain confidentiality regard reporter incident. details specific enforcement policies may posted separately. Project maintainers follow enforce Code Conduct good faith may face temporary permanent repercussions determined members project’s leadership.","code":""},{"path":"https://bcgov.github.io/climr/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"NA","text":"Code Conduct adapted Contributor Covenant, version 1.4, available http://contributor-covenant.org/version/1/4","code":""},{"path":"https://bcgov.github.io/climr/CONTRIBUTING.html","id":"how-to-contribute","dir":"","previous_headings":"","what":"How to contribute","title":"NA","text":"Government employees, public members private sector encouraged contribute repository forking submitting pull request. (new GitHub, might start basic tutorial check detailed guide pull requests.) Pull requests evaluated repository guardians schedule deemed beneficial committed master. contributors retain original copyright stuff, contributing project, grant world-wide, royalty-free, perpetual, irrevocable, non-exclusive, transferable license users terms license project distributed.","code":""},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_beg.html","id":"using-the-downscale-function","dir":"Articles","previous_headings":"","what":"Using the downscale() function","title":"Beginner `climr` workflow","text":"basic use climr pass data.table point coordinates, IDs elevation downscale() select type climate projection values wanted - e.g. ask future projections two periods, using two emissions scenarios two General Circulation Models. also specify want 3 individual runs model/scenario combination, addition ensemble mean (returned default). resulting output data.table, printed : ‘ds_out’ table - Output downscale. Outputs shown one location (‘id’)","code":"library(climr)  ## provide a data.frame or data.table of point coordinates, IDs and elevation my_points <- data.frame(   lon = c(-123.4404, -123.5064, -124.2317),   lat = c(48.52631, 48.46807, 49.21999),   elev = c(52, 103, 357),   id = seq_len(3) )  ## climr query for the data.frame ds_out <- downscale(   xyz = my_points,   gcms = c(\"GFDL-ESM4\", \"EC-Earth3\"), # specify two global climate models   ssps = c(\"ssp370\", \"ssp245\"), # specify two greenhouse gas concentration scenarios   gcm_periods = c(\"2001_2020\", \"2041_2060\"), # specify two 20-year periods   max_run = 3, # specify 3 individual runs for each model   ensemble_mean = FALSE, # don't return ensemble mean of individual runs   db_option = \"local\", # perform downscaling locally (instead of in database)   vars = c(\"PPT_an\", \"CMD_an\", \"CMI_an\") ) #> . #> . #> ."},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_beg.html","id":"listing-available-options","dir":"Articles","previous_headings":"","what":"Listing available options","title":"Beginner `climr` workflow","text":"list_* functions (see ?list_gcm) useful see available options, example: functions can used arguments downscale(). example, vars = list_variables() specified obtain data available variables, gcms = list_gcm()[c(1,4,5,6,7,10,11,12)] used specify eight-gcm ensemble recommended Mahony et al. (2022).","code":"list_gcms() #>  [1] \"ACCESS-ESM1-5\" \"BCC-CSM2-MR\"   \"CanESM5\"       \"CNRM-ESM2-1\"   #>  [5] \"EC-Earth3\"     \"GFDL-ESM4\"     \"GISS-E2-1-G\"   \"INM-CM5-0\"     #>  [9] \"IPSL-CM6A-LR\"  \"MIROC6\"        \"MPI-ESM1-2-HR\" \"MRI-ESM2-0\"    #> [13] \"UKESM1-0-LL\" list_gcm_periods() #> [1] \"2001_2020\" \"2021_2040\" \"2041_2060\" \"2061_2080\" \"2081_2100\" list_ssps() #> [1] \"ssp126\" \"ssp245\" \"ssp370\" \"ssp585\""},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_beg.html","id":"working-with-raster-data","dir":"Articles","previous_headings":"","what":"Working with raster data","title":"Beginner `climr` workflow","text":"common use climr obtain climate data user-provided raster grid. sample code showing . climr now supports native raster downscaling, can simply pass 1-layer SpatRaster containing elevation values, climr return raster stack extent resolution input, layer corresponds variable.","code":"library(terra) library(data.table)  ## get the sample digital elevation model (dem) provided with `climr` dem_vancouver <- get(data(\"dem_vancouver\")) |>    unwrap()  ## A simple climr query. This will return the observed 1961-1990 and 2001-2020 mean annual temperature (MAT). ds_out <- downscale(   xyz = dem_vancouver,    obs_periods = \"2001_2020\",    gcms = list_gcms()[4],   ssps = list_ssps()[2],   gcm_periods = \"2041_2060\",   vars = c(\"MAT\") ) #> . #> .  plot(ds_out, range = c(2,14))"},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_beg.html","id":"looking-under-the-hood","dir":"Articles","previous_headings":"","what":"Looking under the hood","title":"Beginner `climr` workflow","text":"can download investigate raw data climr uses downscaling, reference climatological maps, observational time series, GCM anomalies. See section “Workflow *_input functions downscale” vignette(\"vignettes/climr_workflow_int.Rmd\") example.","code":""},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_int.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Intermediate `climr` workflow","text":"climr essence similar ClimateNA downscales low-resolution (~100km) global climate model anomalies high-resolution (1-4km) maps climate, elevation adjustment user-specified elevation grids/points based empirical lapse rates (local relationship climate elevation) 1-4km climate maps. elevation-adjusted monthly values basic climate elements (temperature precipitation) used estimate derived variables (e.g., degree-days, precipitation snow) based published equations parameters (Wang et al. 2016). See vignette(\"methods_downscaling.Rmd\") detailed explanation downscaling methodology employed climr. climr’s strengths : ability obtain multiple, individual runs (several) General Circulation Model(s) (GCM), well ensemble cross-run mean, cloud-based raw data access local data caching, direct R interface downscaled climate elements derived variables covering western Canada western US. vignette cover two basic climr workflows obtain historic future climate projections derived variables. first, less code-heavy, workflow uses downscale() much heavy lifting – [Workflow downscale]. second workflow step--step breakdown downscale() using functions downscale() calls internally – [Workflow *_input functions downscale].","code":""},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_int.html","id":"main-functions","dir":"Articles","previous_headings":"","what":"Main functions","title":"Intermediate `climr` workflow","text":"list main functions used two workflows. downscale() takes data.table point coordinates (lat-long projection), obtains climate normals historic /future projections covering extent points, downscaled using point elevation data used calculate derived climate variables point locations. outputs downscaled derived variables form data.table SpatVector points. input_refmap() downloads prepares high-resolution climate normals. Called internally downscale(). input_obs() input_obs_ts() download prepare low-resolution historic climate elements given historic period time series, respectively. Called internally downscale(). input_gcms(), input_gcm_hist() input_gcm_ssp() download prepare low-resolution climate element projections future period, historic period future time series, respectively. Called internally downscale(). downscale() downscales historic future climate elements calculates derived climate variables. Called downscale().","code":""},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_int.html","id":"workflow-with-downscale","dir":"Articles","previous_headings":"","what":"Workflow with downscale","title":"Intermediate `climr` workflow","text":"example workflow use downscale() calculate mean annual temperature (MAT), total annual precipitation (PPT) precipitation snow (PAS) weather stations associated Adjusted homogenized Canadian climate data. downscale MAT, PPT MAS locations historic future period, using two separate runs GCM one emissions scenario. begin loading Adjusted Precipitation Canada (APC2) dataset clipping North Vancouver area. dataset already contains elevation information. Note longitude (‘lon’) latitude (‘lat’) must lat-long projection (EPSG:4326) elevation m. Point IDs must unique – use weather station IDs. also add two columns data.table (‘ZONE’ ‘HEZ’) ignored downscale(). downscale() preserves IDs use join back extra columns used plotting later . Weather stations North Vancouver list_*() functions provide list available historic future periods, GCMs, emissions scenarios, derived variables (case annual ones). chose available historic period (2001-2020), 2021-2040 future period, ‘EC-Earth3’ GCM SSP 2.45 scenario. MAT, PPT PAS selected output variables. pass choices downscale(), choosing climr composite reference climatology (refmap_climr). Note data historical periods doesn’t GCM SSP value – expected , GCMs SSPs used project future climate values. Also, future projections obtained two runs EC-Earth3 (‘r1i1p1f1’ ‘r10i1p1f1’), plus ensemble mean. ‘ds_out’ table - Output downscale. Outputs show one location (‘id’) add back extra columns need simple left join. can now simple visualisation climate variation biogeoclimatic zone (‘ZONE’), normals period 1961-1990:  may also want yearly climate projections. case, want yearly values MAT PPT 2001-2015 2021:2040, using GCM, SSP number model runs. Notice data doesn’t need downloaded , retrieved cache. downscale() internally rescales projected historical values align observed counterpart. See vignette(\"methods_downscaling.Rmd\") details. plot time series, filter data single model run (.e. case discard ensemble means) single point location. Note plot observed (obs_hist) projected historical (proj_hist) climate values along future climate projections (proj_fut). Time series outputs downscale. Pannels show mean annual temperature (MAT), total annual precipitation (PPT) precipitation snow (PAS). Line colours refer observed historic values (grey), projected historic values (gren) future projected values (blue) single location, GCM, emissions scenario model run.","code":"library(climr) library(data.table) library(terra)  ## weather station locations weather_stations <- get(data(\"weather_stations\")) |>   unwrap()  ## study area of interest (North Vancouver) vancouver_poly <- get(data(\"vancouver_poly\")) |>   unwrap()  ## subset to points in study area weather_stations <- mask(weather_stations, vancouver_poly)  ## convert to data.table and subset/rename columns needed by climr xyzDT <- as.data.table(weather_stations, geom = \"XY\") cols <- c(\"Station ID\", \"x\", \"y\", \"Elevation (m)\") xyzDT <- xyzDT[, ..cols] setnames(xyzDT, c(\"id\", \"lon\", \"lat\", \"elev\"))  ## join BEC zones and colours BECz_vancouver <- get(data(\"BECz_vancouver\")) |>   unwrap()  BECz_points <- extract(BECz_vancouver, weather_stations) |>   as.data.table() BECz_points <- BECz_points[, .(ZONE, HEX)]  xyzDT <- cbind(xyzDT, BECz_points)  ## remove duplicates xyzDT <- unique(xyzDT)  ## there are some duplicate stations with slightly different ## coordinates. We'll take the first xyzDT <- xyzDT[!duplicated(id)] list_obs_periods() #> [1] \"2001_2020\" list_gcm_periods() #> [1] \"2001_2020\" \"2021_2040\" \"2041_2060\" \"2061_2080\" \"2081_2100\" list_gcms() #>  [1] \"ACCESS-ESM1-5\" \"BCC-CSM2-MR\"   \"CanESM5\"       \"CNRM-ESM2-1\"   #>  [5] \"EC-Earth3\"     \"GFDL-ESM4\"     \"GISS-E2-1-G\"   \"INM-CM5-0\"     #>  [9] \"IPSL-CM6A-LR\"  \"MIROC6\"        \"MPI-ESM1-2-HR\" \"MRI-ESM2-0\"    #> [13] \"UKESM1-0-LL\" list_ssps() #> [1] \"ssp126\" \"ssp245\" \"ssp370\" \"ssp585\" list_vars(set = \"Annual\") #>  [1] \"AHM\"        \"bFFP\"       \"CMD_an\"     \"CMI_an\"     \"DD18_an\"    #>  [6] \"DD5_an\"     \"DDsub0_an\"  \"DDsub18_an\" \"eFFP\"       \"EMT\"        #> [11] \"Eref_an\"    \"EXT\"        \"FFP\"        \"MAP\"        \"MAT\"        #> [16] \"MCMT\"       \"MSP\"        \"MWMT\"       \"NFFD_an\"    \"PAS_an\"     #> [21] \"PPT_an\"     \"RH_an\"      \"SHM\"        \"Tave_an\"    \"TD\"         #> [26] \"Tmax_an\"    \"Tmin_an\" ds_out <- downscale(   xyz = xyzDT,   which_refmap = \"refmap_climr\",   obs_periods = \"2001_2020\",   gcm_periods = \"2021_2040\",   gcms = \"EC-Earth3\",   ssps = \"ssp245\",   max_run = 2,   return_refperiod = TRUE, ## to return the 1961-1990 normals period   vars = c(\"MAT\", \"PPT_an\", \"PAS_an\") ) #> Welcome to climr! #> Getting observed anomalies... #> Downloading observed period anomalies #> . #> Caching data... #> Getting GCMs... #> Downloading GCM anomalies #> . #> Caching data... #> Downloading new data from refmap_climr... #> . #> Caching data... #> Downscaling... ds_out <- xyzDT[, .(id, ZONE, HEX)][ds_out, on = .(id)] plotdata <- melt(ds_out, measure.vars = c(\"MAT\", \"PPT_an\", \"PAS_an\")) cols <- plotdata$HEX names(cols) <- plotdata$ZONE cols <- cols[!duplicated(cols)]  ggplot(plotdata[PERIOD == \"1961_1990\"], aes(x = ZONE, y = value, fill = ZONE)) +   geom_boxplot() +   theme_light() +   scale_fill_manual(values = cols) +   facet_wrap(~variable, scales = \"free\") ds_out_ts <- downscale(   xyz = xyzDT[,.(id,lon,lat,elev)],   obs_years = 2001:2023,   gcm_hist_years = 2001:2014,   gcm_ssp_years = 2015:2040,   gcms = list_gcms()[5],   ssps = \"ssp245\",   max_run = 1,   ensemble_mean = FALSE,   vars = c(\"MAT\", \"PPT_an\", \"PAS_an\") ) #> Welcome to climr! #> Downscaling in database... #> Extracting [73] bands from refmap_climr #> Extracting [312] bands from gcmts_VAR_ec-earth3 #> Extracting [504] bands from hist_ec-earth3 ds_out_ts[is.na(GCM), GCM := \"Historic\"] ds_out_ts <- ds_out_ts[!grepl(\"1961_1990\", PERIOD)]  plotdata <- melt(ds_out_ts, measure.vars = c(\"MAT\", \"PPT_an\", \"PAS_an\")) plotdata[, PERIOD := as.numeric(PERIOD)] plotdata <- plotdata[id == head(id, 1)]  ## time series period groupings plotdata[GCM == \"Historic\", pgrp := \"obs_hist\"] plotdata[GCM != \"Historic\" & PERIOD <= 2020, pgrp := \"proj_hist\"] plotdata[GCM != \"Historic\" & PERIOD > 2014, pgrp := \"proj_fut\"]  ## make groups so that missing data is not shown as a \"line connection\" groups <- data.table(PERIOD = unique(plotdata$PERIOD)) groups[, idx := c(1, diff(PERIOD))] i2 <- c(1, which(groups$idx != 1), nrow(groups) + 1) groups[, grp := rep(1:length(diff(i2)), diff(i2))] plotdata <- groups[, .(PERIOD, grp)][plotdata, on = \"PERIOD\"] plotdata[, grp := paste(grp, variable, sep = \"_\")]  yrbreaks <- c(   min(plotdata$PERIOD),   seq(min(plotdata$PERIOD), max(plotdata$PERIOD), by = 5),   max(plotdata$PERIOD) ) |>   unique()  ggplot(plotdata, aes(x = PERIOD, y = value, col = pgrp, group = grp)) +   geom_line(     data = plotdata[pgrp == \"obs_hist\"], size = 1.1,     linejoin = \"round\", lineend = \"round\"   ) +   geom_line(     data = plotdata[pgrp != \"obs_hist\"], size = 1.1,     linejoin = \"round\", lineend = \"round\"   ) +   scale_x_continuous(breaks = yrbreaks, labels = yrbreaks) +   scale_color_manual(     values = c(       \"obs_hist\" = \"grey\",       \"proj_hist\" = \"forestgreen\",       \"proj_fut\" = \"navyblue\"     ),     breaks = c(\"obs_hist\", \"proj_hist\", \"proj_fut\")   ) +   theme_light() +   theme(axis.text.x = element_text(angle = 45, vjust = 0.5)) +   labs(x = \"Year\", col = \"\") +   facet_wrap(~variable, scales = \"free\", ncol = 1, strip.position = \"left\", )"},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_int.html","id":"spatial-output-and-plotting-options","dir":"Articles","previous_headings":"Workflow with downscale","what":"Spatial output and plotting options","title":"Intermediate `climr` workflow","text":"downscale can also provide outputs form SpatVector points plot values chosen climate variable list passed downscale(..., vars), case MAT.  course can now use vector output map variables top DEM raster, prettier visuals:","code":"ds_out_spatial <- downscale(   xyz = xyzDT,   gcms = \"EC-Earth3\",   gcm_periods = \"2021_2040\",   ssps = \"ssp245\",   max_run = 0,   return_refperiod = FALSE, ## don't return the 1961-1990 normals period   out_spatial = TRUE,   plot = \"MAT\",   vars = c(\"MAT\", \"PPT_an\", \"PAS_an\") ) vancouver <- get(data(\"vancouver\")) |>   unwrap()  par(mfrow = c(1, 2)) plot(vancouver_poly,   col = hcl.colors(50, palette = \"Earth\"),   plg = list(x = \"bottom\", title = \"Elevation\"),   mar = c(4, 1, 1, 4) ) plot(vancouver, add = TRUE, col = \"black\") plot(ds_out_spatial, \"MAT\",   col = hcl.colors(50, palette = \"Reds\"),   add = TRUE, type = \"continuous\",   plg = list(x = \"right\", title = \"MAT\") )  plot(vancouver_poly,   col = hcl.colors(50, palette = \"Earth\"),   plg = list(x = \"bottom\", title = \"Elevation\"),   mar = c(4, 1, 1, 4) ) plot(vancouver, add = TRUE, col = \"black\") plot(ds_out_spatial, \"PPT_an\",   col = hcl.colors(50, palette = \"Blues\"),   add = TRUE, type = \"continuous\",   plg = list(x = \"right\", title = \"PPT\") )"},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_int.html","id":"workflow-with-input_-functions-and-downscale_core","dir":"Articles","previous_headings":"","what":"Workflow with input_* functions and downscale_core()","title":"Intermediate `climr` workflow","text":"Alternatively, user may choose run climate data preparation downscaling functions separately. suggest least twice full understanding steps downscale executes internally. Steps 1 2 bellow download prepare climate data used downscaling step (Step 3). use point locations downscaling.","code":""},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_int.html","id":"get-climate-normals---input_refmap","dir":"Articles","previous_headings":"Workflow with input_* functions and downscale_core()","what":"1) Get climate normals - input_refmap()","title":"Intermediate `climr` workflow","text":"using input_refmap(), establish connection PostGIS server pass bounding box containing point locations interest. “auto” option select source climate normals. list_refmap() provides list available options: ‘refmap_climatena’ corresponds normals North America obtained ClimateNA (Wang et al. 2016); ‘refmap_climr’ corresponds composite British Columbia PRISM, adjusted US PRISM DAYMET (Alberta Saskatchewan). use ‘refmap_climr’ highest resolution product area interest. extent downloaded climate anomalies often larger extent bounding box, vary depending spatial resolution data. demonstrate define bounding box set coordinates. Alternatively, get_bb used extract bounding box around point locations xyzDT. Downloaded normals shown North Vancouver area requested bounding box.","code":"list_refmaps() #> [1] \"refmap_climr\"     \"refmap_climatena\" the_bb <- c(-124, -122, 49, 50)  normals <- input_refmap(   bbox = the_bb,   reference = \"refmap_climr\" ) #> ."},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_int.html","id":"get-climate-projections-andor-historical-observations","dir":"Articles","previous_headings":"Workflow with input_* functions and downscale_core()","what":"2) Get climate projections and/or historical observations","title":"Intermediate `climr` workflow","text":"Data historic future climate projections can obtained gcm_*() functions. input_gcm_hist() used obtain historical anomalies projected (several) GCM, whereas input_gcms() input_gcm_ssp used obtain future anomaly projections period individual years (.e. time series). Historical observations given period individual years can obtained input_obs input_obs_ts, respectively. Downloaded historical future anomalies shown North Vancouver area requested bounding box.","code":"hist_proj <- input_gcm_hist(   bbox = the_bb,   gcms = \"EC-Earth3\",   years = 2001:2020,   max_run = 0 ) #> .  fut_proj <- input_gcms(   bbox = the_bb,   gcms = \"EC-Earth3\",   ssps = \"ssp245\",   period = \"2021_2040\",   max_run = 0 ) #> .  fut_proj_ts <- input_gcm_ssp(   bbox = the_bb,   gcms = \"EC-Earth3\",   ssps = \"ssp245\",   years = 2021:2040,   max_run = 0 ) #> .  hist_obs <- input_obs(   bbox = the_bb,   period = \"2001_2020\" ) hist_obs_ts <- input_obs_ts(   bbox = the_bb,   years = 2001:2020 ) #> . #> . #> ."},{"path":"https://bcgov.github.io/climr/articles/climr_workflow_int.html","id":"downscale-and-calculate-actual-values-i-e--not-anomalies","dir":"Articles","previous_headings":"Workflow with input_* functions and downscale_core()","what":"3) Downscale and calculate actual values (i.e., not anomalies)","title":"Intermediate `climr` workflow","text":"Now necessary inputs, can downscale climate data. avoid repeating lines code input, ’ll use lapply() .call() iterate several climate inputs downscale. Note .call() work, list climate inputs (inputs) must named according downscale()’s argument names (can list formalArgs(downscale)). ‘all_downscale’ table binding. Outputs shown one location (‘id’)","code":"all_downscale <- downscale_core(xyzDT, refmap = normals, gcms = fut_proj, obs = hist_obs, gcm_ssp_ts = fut_proj_ts, gcm_hist_ts = hist_proj, obs_ts = hist_obs_ts, vars = \"MAT\", out_spatial = FALSE) all_downscale #> Key: <id, GCM, SSP, RUN, PERIOD, DATASET> #>          id       GCM    SSP          RUN    PERIOD    DATASET      MAT #>       <int>    <char> <char>       <char>    <char>     <char>    <num> #>    1:    87      <NA>   <NA>         <NA> 1961_1990       <NA> 10.31440 #>    2:    87      <NA>   <NA>         <NA>      2001  climatena 10.72643 #>    3:    87      <NA>   <NA>         <NA>      2001   cru.gpcc 10.55995 #>    4:    87      <NA>   <NA>         <NA>      2001 mswx.blend 10.57633 #>    5:    87      <NA>   <NA>         <NA> 2001_2020       <NA> 11.15575 #>   ---                                                                   #> 8532: 12936 EC-Earth3 ssp245 ensembleMean      2036       <NA> 12.12850 #> 8533: 12936 EC-Earth3 ssp245 ensembleMean      2037       <NA> 12.03018 #> 8534: 12936 EC-Earth3 ssp245 ensembleMean      2038       <NA> 11.73119 #> 8535: 12936 EC-Earth3 ssp245 ensembleMean      2039       <NA> 12.66107 #> 8536: 12936 EC-Earth3 ssp245 ensembleMean      2040       <NA> 11.86430"},{"path":[]},{"path":"https://bcgov.github.io/climr/articles/guidance_ensembleSelection.html","id":"model-selection","dir":"Articles","previous_headings":"","what":"Model selection","title":"Climate model and scenario selection","text":"Wherever possible, climate change studies benefit use projections multiple models assess modeling uncertainties. broad scientific agreement ensemble least eight independent climate models required represent modeling uncertainties climate change outcomes large regions (Pierce et al. 2009, McSweeney et al. 2014, Cannon 2015, Wilcke Bärring 2016). However, small ensembles 3-5 GCMs may adequate studies limited small area single time year. single representative projection long-term climate trends desired, multi-GCM ensemble mean likely reliable single GCM projection (Pierce et al. 2009).","code":""},{"path":"https://bcgov.github.io/climr/articles/guidance_ensembleSelection.html","id":"recommended-subsets-of-the-13-model-climr-ensemble","dir":"Articles","previous_headings":"Model selection","what":"Recommended subsets of the 13-model climr ensemble","title":"Climate model and scenario selection","text":"13 models provided climr individually useful provide good representation larger CMIP6 ensemble (Mahony et al. 2022). However, like full CMIP6 ensemble viewed arbitrary collection models don’t necessarily provide reliable representation climate change uncertainty, explained NASA’s Gavin Schmidt. Mahony et al. (2022) recommend 8 models ensemble analysis. 8-model ensemble consistent IPCC’s assessment climate sensitivity full 13-model climr ensemble, excludes model problematic spatial artefacts BC Coast Mountains. recommended 8-model ensemble : ACCESS-ESM1.5, CNRM-ESM2-1, EC-Earth3, GFDL-ESM4, GISS-E2-1-G, MIROC6, MPI-ESM1.2-HR, MRI-ESM2.0.","code":""},{"path":"https://bcgov.github.io/climr/articles/guidance_ensembleSelection.html","id":"scenario-selection","dir":"Articles","previous_headings":"","what":"Scenario selection","title":"Climate model and scenario selection","text":"CMIP6 climate projections follow scenarios future greenhouse gas emissions called Shared Socioeconomic Pathways (SSPs). climr includes projections four major SSP scenarios: SSP1-2.6, SSP2-4.5, SSP3-7.0, SSP5-8.5. SSP1-2.6 assumes strong emissions reductions (mitigation) roughly consistent goals Paris Climate Accords limit global warming 2oC pre-industrial temperatures. SSP2-4.5 assumes moderate mitigation roughly consistent current emissions policies economic trends. SSP3-7.0 representative broader range “baseline” scenarios assume absence mitigation policies, associated linear increase rate greenhouse gas emissions. SSP5-8.5 high end baseline scenarios, representing rapid expansion greenhouse gas emissions next several decades end--century emissions three times higher current emissions (Riahi et al. 2017). Collectively, SSP1-2.6, SSP2-4.5, SSP3-7.0 provide reasonable representation optimistic, neutral, pessimistic outlooks global emissions policies socioeconomic development. possible, recommend using three scenarios represent scenario uncertainty climate change projections. SSP2-4.5 alone sufficient studies focused near future (2021-2040 period) since minor differentiation three recommended emissions scenarios period relative differences climate models. SSP5-8.5 used caution impacts adaptation research. emissions pathway described SSP5-8.5 extremely unlikely based constraints supply demand high-carbon energy sources current trends energy economics policy (Hausfather Peters 2020), though SSP5-8.5 greenhouse gas concentrations may plausible, unlikely, due carbon cycle feedbacks.","code":""},{"path":"https://bcgov.github.io/climr/articles/guidance_ensembleSelection.html","id":"time-period-selection","dir":"Articles","previous_headings":"","what":"Time period selection","title":"Climate model and scenario selection","text":"Instead traditional 30-year definition climate normals, climr provides normals set five 20-year periods 21st Century: 2001-2020, 2021-2040, . shorter 20-year periods appropriate representing rapidly changing climates century. practice summarizing climate 20-year periods consistent recent IPCC reports. 2001-2020 period provides opportunity direct comparison model simulations vs. observations, can give important context interpretations future projections. climr normals 2001-2020 period calculated historical model runs years 2001-2014 SSP scenario runs years 2015-2020. interpreting projections near future, important recognize individual GCM projections predictions. GCM runs used climate change projections initiated 1850s directly constrained observed climate conditions. Consequently, GCM projections essentially uncertain next year 20 years future. Decadal climate prediction, analogous weather prediction timescales 1-10 years, emerging yet operational science may help reduce uncertainty near-term projections (Boer et al. 2016). meantime, considered best practice use ensemble climate projections, 8-model ensemble recommended , near-term regional climate change studies (Brekke et al. 2008, Knutti 2008, Pierce et al. 2009). Given recent observed climate may differ substantially ensemble mean, may even outside ensemble range, climate change adaptation decisions near-term (1-10 years) carefully consider recent observed trends addition climate model simulations.","code":""},{"path":"https://bcgov.github.io/climr/articles/guidance_ensembleSelection.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Climate model and scenario selection","text":"Boer, G. J., D. M. Smith, C. Cassou, et al. 2016. Decadal Climate Prediction Project (DCPP) contribution CMIP6. Geoscientific Model Development 9:3751–3777. Brekke, L. D., M. D. Dettinger, E. P. Maurer, M. Anderson. 2008. Significance model credibility estimating climate projection distributions regional hydroclimatological risk assessments. Climatic Change 89:371–394. Burgess, M., J. Ritchie, J. Shapland, R. Pielke. 2021. IPCC baseline scenarios -project CO2 emissions economic growth. Environmental Research Letters 16:014016 Cannon, . J. 2015. Selecting GCM scenarios span range changes multimodel ensemble: Application CMIP5 climate extremes indices. Journal Climate 28:1260–1267. Hausfather, Z., G. P. Peters. 2020. Emissions - “business usual” story misleading. Nature 577:618–620. Knutti, R. 2008. believe model predictions future climate change? Philosophical Transactions Royal Society : Mathematical, Physical Engineering Sciences 366:4647–4664. Mahony, C.R., T. Wang, . Hamann, .J. Cannon. 2022. global climate model ensemble downscaled monthly climate normals North America. International Journal Climatology. 42:5871-5891. doi.org/10.1002/joc.7566 McSweeney, C. F., R. G. Jones, R. W. Lee, D. P. Rowell. 2014. Selecting CMIP5 GCMs downscaling multiple regions. Climate Dynamics 44:3237–3260. Pierce, D. W., T. P. Barnett, B. D. Santer, P. J. Gleckler. 2009. Selecting global climate models regional climate change studies. Proceedings National Academy Sciences United States America 106:8441–8446. Riahi et al. 2017. Shared Socioeconomic Pathways energy, land use, greenhouse gas emissions implications: overview. Global Environmental Change 42:153–168. Wilcke, R. . ., L. Bärring. 2016. Selecting regional climate scenarios impact modelling studies. Environmental Modelling Software 78:191–201.","code":""},{"path":"https://bcgov.github.io/climr/articles/guidance_timeSeries.html","id":"why-are-multiple-observational-datasets-necessary","dir":"Articles","previous_headings":"","what":"Why are multiple observational datasets necessary?","title":"Gridded observational time series","text":"Observations historical weather limited data (1) climate stations, sparse many areas North America, (2) modeled reconstructions (“reanalysis”) historical weather systems, multiple sources bias. result, considerable uncertainty past weather, uncertainty varies across landscape depending proximity observations made. analyzing multiple datasets different methods input data, can better understand uncertainties variables locations interest. , dataset may optimal different applications. Finally, providing multiple datasets allows climr output benchmarked studies based products.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/articles/guidance_timeSeries.html","id":"crugpcc","dir":"Articles","previous_headings":"Dataset descriptions","what":"CRU/GPCC","title":"Gridded observational time series","text":"Climatic Research Unit TS dataset uses angular distance weighting interpolate monthly weather station anomalies (deviations long-term average). global gridded station time series product provides monthly mean minimum maximum daily temperature (Tmin Tmax) entire 20th century. result, widely used climate research. CRU provides precipitation data, independent research (Sun et al. (2018)) analysis indicate GPCC higher performance representing historical precipitation. significant weakness CRU GPCC time series dataset dramatic decline number stations contributing datasets end 1990s (Figure 1). Figure 1: Changes number stations contributing CRU gridded minimum maximum temperature products () GPCC precipitation product (b).","code":""},{"path":"https://bcgov.github.io/climr/articles/guidance_timeSeries.html","id":"climatena","dir":"Articles","previous_headings":"Dataset descriptions","what":"ClimateNA","title":"Gridded observational time series","text":"21st century station sparsity CRU GPCC datasets (Figure 1) motivated development ClimateNA gridded monthly historical time series North America (Wang, Hamann, Sang (2024)). product uses thin-plate splines interpolate weather station observations. North American station count 1961-present maintained n=6000 temperature n=8000 precipitation. Hence, ClimateNA time series suffer degradation post-1990 due declining station density seen CRU GPCC.","code":""},{"path":"https://bcgov.github.io/climr/articles/guidance_timeSeries.html","id":"mswx-blend","dir":"Articles","previous_headings":"Dataset descriptions","what":"MSWX blend","title":"Gridded observational time series","text":"MSWX provides entirely different approach gridded observational time series. Instead interpolating weather stations, applies bias correction hourly ERA5 reanalysis (.e., observationally constrained weather model simulation) period 1979-present. bias correction performed using monthly climatologies (30-year averages) obtained CHELSA product. precipitation, use MSWEP, merges multiple data sources including rain gauge, satellite, reanalysis, river discharge data. blended MSWX/MSWEP time series CRU/GPCC time series produce 1901-2024 time series allow calculation MSWX anomalies relative 1961-1990 baseline used climr. blend occurs 1990s; hence mswx_blend product CRU/GPCC prior 1990, MSWX/MSWEP post-1997, weighted average 1990-1997.","code":""},{"path":"https://bcgov.github.io/climr/articles/guidance_timeSeries.html","id":"intercomparison-of-datasets","dir":"Articles","previous_headings":"","what":"Intercomparison of datasets","title":"Gridded observational time series","text":"three datasets distinct spatial patterns anomalies, exemplified 2001-2020 average Tmin anomalies across North America (Figure 2). CRU anomalies vary large spatial scales due broad spatial influence station distance weighting method. contrast, MSWX blend exhibits localized anomalies follow physiographic features MacKenzie Mountains southern Yukon, Great Lakes, coastal fringe Pacific Northwest. link physiographic features outcome using physical weather model basis MSWX. Finally, ClimateNA time series exhibits credible spatial detail station-dense United States, also spatial oscillations station-sparse western northern Canada may artefacts thin-plate spline method interpolation stations. Figure 2: Comparison CRU, MSWX-blend, ClimateNA gridded time series terms difference 1961-1990 2001-2020 average February Tmin. general difference datasets noted Figure 2 also evident Tmax anomalies different months (Figure 3a). Specifically: higher spatial detail MSWX-blend climateNA time series; apparent interpolation artefacts station-sparse regions climateNA time series, visible Central Mexico. precipitation, three products indicate similar trends coarse contintental scale, substantial differences precipitation trends regional scales (Figure 3b). MSWX-blend highest spatial detail appears generally credible. also exhibits strongest trends, adjacent 20-year anomalies factor two (-50%, +100%) arctic. strong contrasting trends may artefacts, yet investigated credibility. Figure 3: Figure 2, Tmax precipitation January, April, July, October. striking differences three products evident Figure 4, shows 1961-2020 February Tmin trends British Columbia Alberta. quality-controlled station records Adjusted Homogenized Canadian Climate Data (Vincent, Hartwell, Wang (2020)) provided reference. CRU time series indicates moderate cooling across northern BC MSWX blend indicates moderate warming; trends stronger relatively neutral station trends. ClimateNA product strongly contrasting warming cooling trends supported AHCCD stations. yet established whether pattern due non-AHCCD stations artefact spline interpolation areas stations. variation among stations indicates significant uncertainty determining regional climate change trends. Figure 4: figure 2, zoomed region British Columbia Alberta. Filled circles AHCCD stations follow color scheme gridded data. black rectangle lower centre map region Okanagan Valley featured Figures 5 6. Okanagan Valley (outlined black rectangle Figure 4) high density AHCCD stations help put differences gridded products context. CRU ClimateNA time series similar 20th century, diverge 1998 coincident sharp decline CRU station density (Figure 5). divergence produces slight cooling trend CRU slight warming trend ClimateNA. 6 AHCCD stations corroborate CRU trend, indicated boxplot. However, year--year variability much greater difference trends, synchronous products. Figure 5: Comparison ClimateNA, MSWX blend, CRU February Tmin time series Okanagan Valley study area mapped Figure 5. Solid grey lines station records six AHCCD stations located study area. Dashed lines 2001-2020 mean time series. boxplot shows distribution AHCCD station 2001-2020 means. July temperature time series instructive (Figure 6). post-1998 divergence products much greater relative natural variability. Unlike February, CRU trend distribution AHCCD station trends. example illustrates differences products trivial substantial implications trend detection analysis interannual variation. February July examples illustrate one product doesn’t necessarily provide consistently reliable trend, even station-dense regions. Figure 6: Figure 5, July Tmin. assess general reliability gridded products, assessed error 2001-2020 mean temperature anomalies relative AHCCD stations across western Canada (west -100oE, including Arctic region)(Figure 7). limitation approach favours station based products (CRU ClimateNA) use AHCCD stations input data. , assessment doesn’t provide insights quality interpolation stations. CRU consistently lowest range error, consistently median error zero indicating average CRU underestimates climate change trend Tmin Tmax. ClimateNA overestimates trend non-summer Tmin underestimates trend summer Tmax. Across months, MSWX blend least bias trend, though ClimateNA also low bias Tmax. Figure 7: Error (relative AHCCD stations) 2001-2020 average anomaly 1961-1990 baseline, monthly mean daily minimum maximum temperature. study area western Canada, west -100oE, including Arctic region box--whisker plot shows minimum, 25th percentile, median, 75th percentile, maximum distribution. results across western Canada suggest MSWX blend lower bias two products. However, results individual provinces indicates lower bias consistent among regions (Figure 8). consistently preferable product across regions months, terms trend error relative AHCCD stations. , narrow comparison inherently favours CRU ClimateNA. Figure 8: Figure 7, Tmin error () British Columbia, (b) Alberta, (c) Saskatchewan.","code":""},{"path":"https://bcgov.github.io/climr/articles/guidance_timeSeries.html","id":"conclusions","dir":"Articles","previous_headings":"","what":"Conclusions","title":"Gridded observational time series","text":"cursory analysis identified clear winner among gridded observational time series. CRU/GPCC compromised post-1990s decline station density, ClimateNA exhibits apparent interpolation artefacts large impacts detected climate change trend. MSWX blend produces credible trends temperature precipitation, likely artefacts precipitation trends arctic. MSWX blend conceptually appealing approach gridded time series gridpoints without station observations informed physical weather modeling. However, detailed validation required establish MSWX preferred product. meantime, using MSWX-blend 2001-2020 observed normals (`obs_periods = “2001_2020”) well transferring 1981-2010 climr climatological mosaic 1961-1990 baseline period. considerations users gridded time series climr: None products reliable detection climate change trends. possible, preferable use quality-controlled station data AHCCD (Vincent, Hartwell, Wang (2020)) trend analysis. intend include AHCCD station data future version climr. gridded observational time series used, good practice include three datasets (crude) way representing uncertainty. blending MSWX CRU/GPCC necessary climr uses 1961-1990 baseline, MSWX available 1979 present. Nevertheless, blending likely contaminates MSWX time series artefacts CRU time series. investigate better ways integrating reanalysis time series climr. differences datasets salient trend detection. noisy variables precipitation winter temperatures, interannual climatic variability appears generally synchronous much greater trend.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/articles/knownIssues_DiscrepanciesWithClimateNA.html","id":"nffd-and-pas","dir":"Articles","previous_headings":"","what":"NFFD and PAS","title":"Discrepancies with ClimateNA","text":"obtained updated parameters number frost free days (NFFD) precipitation--snow (PAS) ClimateNA developers. However, still discrepancies climr results using refmap_climatena results ClimateNA product. Annual NFFD discrepancies across eastern North America.  Monthly NFFD confined latitudinal bands within eastern North America. Note ClimateNA sharp monthly NFFD gradient Eastern North America.  pattern similar PAS. Differences western North America likely due choice disable elevation adjustment precipitation climr  likely ClimateNA using different parameters eastern North America. chosen pursue issue planning develop new derived variable equations climr within next year.","code":""},{"path":"https://bcgov.github.io/climr/articles/knownIssues_DiscrepanciesWithClimateNA.html","id":"frost-free-period-ffp-variables","dir":"Articles","previous_headings":"","what":"Frost-free period (FFP) variables","title":"Discrepancies with ClimateNA","text":"climr ClimateNA substantial discrepancies end day frost-free period (eFFP), commonly order 10 days, though credible gradients continental scale. Since discrepancies monthly mean minimum temperatures, discrepancies must due differences derived variable equation parameters. However, pursued issue.","code":""},{"path":"https://bcgov.github.io/climr/articles/knownIssues_DiscrepanciesWithClimateNA.html","id":"growing-degree-days-dd5","dir":"Articles","previous_headings":"","what":"Growing degree-days (DD5)","title":"Discrepancies with ClimateNA","text":"ClimateNA positive values DD5 high arctic winter months, seem credible. example, ClimateNA indicates DD5 20 growing degree days January. Since climr values credible, pursued issue. However, apparently climr ClimateNA using different parameters degree-day variables.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/articles/methods_downscaling.html","id":"stage-1-change-factor-aka-delta-downscaling","dir":"Articles","previous_headings":"","what":"Stage 1: change-factor (aka “delta”) downscaling","title":"`climr` downscaling methods","text":"climr uses simple method called change-factor downscaling. method sometimes referred climate imprint method (Hunter Meentemeyer 2005), delta method (Wang et al. 2016), simple mean bias correction (Maraun 2016). method adds low-spatial-resolution anomalies (e.g., climate model) high-resolution gridded climate map (Tabor Williams 2010). change-factor downscaling simplistic downscaling daily time series extremes indices, sufficient downscaling temperature precipitation data low temporal resolution (e.g., 20-year climate averages). default high-resolution climate maps used climr 800m gridded maps mean daily maximum temperature (Tmax), mean daily minimum temperature (Tmin), precipitation (PPT) 1961-1990 period. climr uses custom composite climate maps multiple sources: PRISM Climate Group (USA), Pacific Climate Impacts Consortium (BC), Daymet (Mexico Canada outside BC). one map month year, total 36 climate maps. July Tmax reference map looks like vicinity Vancouver, BC. climr 1961-1990 reference climate map July Tmax Global climate model data much lower resolution (60-200km grid scale). change July Tmax EC-Earth3 global climate model 2041-2060 time period, relative model’s 1961-1990 climate. case, warming greater areas (eastward) coast. Low-resolution anomalies (change) July Tmax EC-Earth3 global climate model 2041-2060 time period, relative model’s 1961-1990 climate downscale GCM projection, first interpolate low-resolution GCM anomaly (case, temperature change 1961-1990 2041-2060) resolution detailed reference climate map: Interpolation low-resolution climate model anomalies high resolution reference climate map. add smoothed anomalies high-resolution 1961-1990 climate map, resulting high-resolution map simulated climate 2041-2060. Downscaled 2041-2060 July Tmax EC-Earth model, resulting addition interpolated low-resolution model anomalies (change factors) high resolution 1961-1990 reference climate. case precipitation, multiply reference climate relative anomaly (e.g., multiply 1.07 7% increase precipitation), rather adding absolute anomaly. example illustrates change-factor downscaling able represent effect ocean reducing warming rates coastal areas, large-scale effect represented coarse resolution global climate model. However, downscaling produced uniform warming rate valley bottom mountain top. reality, expect large elevation-dependent differences warming rate due example changes snowpack. inability represent changes occur spatial scales smaller (large) global climate model grid cells important weakness change-factor downscaling statistical downscaling methods. Similarly, change-factor downscaling can’t represent role fine-scale features like lakes, vegetation, cold-air pooling, soil moisture. important considerations interpreting results statistical downscaling.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_downscaling.html","id":"stage-2-elevation-adjustment","dir":"Articles","previous_headings":"","what":"Stage 2: Elevation adjustment","title":"`climr` downscaling methods","text":"climr uses elevation adjustment downscale temperature variables scales finer resolution reference climate map. inferring relationship temperature elevation, known lapse rate, reference climate maps. local lapse rate calculated grid cell reference climate map using linear regression temperature elevation among focal cell 8 neighbours. gridded lapse rates included SpatRaster returned input_refmap() function used . climr lapse rate layer July Tmax: July Tmax lapse rates (change temperature relative elevation; oC/m) used elevation adjustment example indicates BC PRISM maps July Tmax lower lapse rates maritime influenced mountains (4oC/km) mountains less maritime influence (8oC/km). map lapse rates artefacts areas relief; artefacts consequence unless users supply elevations areas deviate substantially realistic ground elevations areas flat topography (e.g., asking climr provide climate values 200m elevation Fraser River delta, uniformly sea level). can use downscale() function 90m digital elevation model (DEM) illustrate elevation adjustment Vancouver’s north shore mountains, shown . 1961-1990 July Tmax 800m reference clmate map (left) elevation-adjusted 90m grid (right). Elevation adjustment provides visually appealing map can useful improving precision climate values points interest areas steep topography. However, important remember climr output represents effects regional climate elevation. Microclimatic factors aspect, vegetation, water bodies, frost pooling, soil moisture represented maps. default, climr doesn’t apply elevation adjustment precipitation, cases elevation influence precipitation scales less 1km. Instead, precipitation scales finer 800m simply interpolated nearest four grid points reference map. Users can choose apply elevation-adjustment precipitation selecting ppt_lr = TRUE downscale() function.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_downscaling.html","id":"stage-3-derived-variables","dir":"Articles","previous_headings":"","what":"Stage 3: Derived variables","title":"`climr` downscaling methods","text":"value delta downscaling isn’t just obtaining new absolute values temperature precipitation. allows us calculate anomalies indices don’t scale linearly temperature precipitation, degree-days precipitation snow. climr currently uses ClimateNA derived variable equations (Wang et al. 2016). equations developed fitting non-linear models relationship variable interest calculated daily weather station data monthly temperature /precipitation weather stations. example, equations January degree-days 0oC 18oC derived fitting piecewise function variables January mean temperature 1961-1990 period 4891 stations across North America, shown Figure 4 Wang et al. (2016): Figure 4 Wang et al. (2016), illustrating derivation equations January degree-days 0oC 18oC based January mean temperature North American weather stations Using climr output EC-Earth3 climate model, can compare change January mean temperature change January degree days 0oC 2041-2060 period relative 1961-1990 baseline. January mean temperature interpolated directly GCM, variation climate change trend variable transition one GCM grid cell neighbours. contrast, January degree-days 0oC, derived directly January mean temperature, strong elevation-dependence climate change trend. Downscaled change January mean temperature (left) derived variable January degree days 0oC (right), using EC-Earth model simulation 2041-2060.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/articles/methods_downscaling.html","id":"high-resolution-climate-maps-used-by-climr","dir":"Articles","previous_headings":"climr data sources","what":"High-resolution climate maps used by climr","title":"`climr` downscaling methods","text":"default climate maps climr composite North America (2.4km grid scale). compiled composite PRISM Climate Group (USA), Pacific Climate Impacts Consortium (BC), Daymet (Canada outside BC). recommend reference climate map following reasons: (1) 800m resolution preserves localized lapse rates (e.g. temperature inversions) averaged 4km ClimateNA composite; (2) PRISM climatology BC preserved blending outwards BC border; (3) lapse rates Alberta Rockies better defined; (4) Tmin Washington, Idaho, Montana reconstructed correct unrealistic lapse rates. climr provides two options high-resolution reference climate map: ClimateNA composite North America, 4km grid scale (Wang et al. 2016). composite compiled separate PRISM climate surfaces BC, Alaska, Yukon/Alberta/Saskatchewan/Manitoba, contiguous US, WorldClim (Fick Hijmans 2017) remainder continent. User-supplied climate maps. downscale() function can accept climate map reference normals. allows user provide reference climate maps, : (1) Alternative publicly available gridded climatologies CHELSA, Daymet, Worldclim; (2) output weather models (e.g., WRF); (3) custom super-high resolution climate maps small study areas.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_downscaling.html","id":"historical-observational-time-series-and-climates","dir":"Articles","previous_headings":"climr data sources","what":"Historical observational time series and climates","title":"`climr` downscaling methods","text":"climr provides historical observed climates annual time series 1901-present 10-year, 20-year, 30-year periods 1951-2020. downscaled way global climate model data: adding low-resolution anomalies (change factors) high-resolution reference climate map. Temperature anomalies Climatic Research Unit (CRU) Time Series dataset. Precipitation anomalies Global Precipitation Climatology Centre global dataset, better representation Canadian precipitation stations CRU Time Series dataset.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/articles/methods_ensembleSelection.html","id":"selection-of-the-global-climate-model-ensemble","dir":"Articles","previous_headings":"","what":"Selection of the global climate model ensemble","title":"Global climate model ensemble selection","text":"13 global climate models available climr selected Mahony et al. (2022) using following criteria: Criterion 1: Minimum 3 historical runs available. criterion ensures robust bias correction. Bias correction climr performed using delta method: model’s simulations adjusted remove difference (delta factor) simulated observed climate 1961-1990 reference period. Calculating delta factor mean least three simulations reduces confounding influence internal variability individual runs bias correction. 44 ScenarioMIP models passed criterion. Criterion 2: Tmin Tmax available. Tmin Tmax basic climate variables climr. models provide variables incompatible climr. 10 models failed criterion. Notably, CESM2 provide Tmin Tmax future projections, due archiving error variables available historical runs model. Criterion 3. Complete scenarios. Models need least one simulation four major SSP marker scenarios (SSP1-2.6, SSP2-4.5, SSP3-7.0, SSP5-8.5). eight models failed criterion. Criterion 4. One model per institution. criterion widely applied best practice ensemble selection (Leduc et al. 2016). rationale selection provided . CNRM-ESM2-1 (ECS 4.8oC) chosen CNRM-CM6-1 (ECS 4.9oC) give preference ESM AOGCM configuration; EC-Earth3 (ECS 4.3oC) arbitrarily chosen EC-Earth3-Veg (ECS 4.3oC); INM-CM5-0 (ECS 1.9oC) arbitrarily chosen INM-CM4-8 (ECS 1.8oC); MPI-ESM1-2-HR (ECS 3.0oC) chosen MPI-ESM1-2-LR (ECS 3.0oC) due high resolution availability >1 run SSP5-8.5. MIROC6 (ECS 2.6oC) chosen MIROC-ES2L (ECS 2.7oC) runs/scenario, higher resolution, latter high temperature bias British Columbia. purposes ensemble, different physics forcing schemes considered different models. used r*i1p3f1 variants GISS-E2-1-G model, complete set scenario simulations. Criterion 5. closely related models. Models share components excluded, following Figure 5 Brunner et al. (2020). NESM3 excluded due close relation MPI-ESM1. Criterion 6. large biases. Bias correction performed climr disrupts physical connection climate variables, distortions increase size biases simulation. reason, models small biases preferable models large biases, else equal. assessment British Columbia, AWI-CM-1-1-MR showed extreme temperature biases warranted exclusion ensemble. 13-model ensemble mean global equilibrium climate sensitivity (ECS) 3.7oC range 1.9-5.6oC, matches full CMIP6 ensemble ECS (3.7oC; 1.8-5.6oC, Meehl et al. 2020.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_ensembleSelection.html","id":"the-8-model-ensemble-recommended-for-general-purpose","dir":"Articles","previous_headings":"","what":"The 8-model ensemble recommended for general purpose","title":"Global climate model ensemble selection","text":"13 models provided climr valid analysis relative warming levels. However, Mahony et al. (2022) recommended subset 8 models ensemble analysis, based following four criteria: Criterion 7. Constraints equilibrium climate sensitivity (ECS). Multiple lines evidence indicate Earth’s equilibrium climate sensitivity (ECS) likely 2oC 5oC (Hausfather et al. 2022). evidence lower bound robust, weaker upper bound. one perspective, inclusion models ECS outside range uneccessarily increases modeling uncertainty downstream analyses. opposing perspective high-sensitivity models useful representation high-impact, low-likelihood scenarios (Sutton Hawkins 2020). perspectives valid, preference depends objectives analysis. Criterion 8. Model resolution. Four climr models high enough resolution resolve macrotopography e.g., clearly differentiate coast mountains Columbia/Rocky Mountains. resolved macrotopography produce elevation-dependent climate change signals rainshadow effects. models weighted towards inclusion despite criteria low number simulations per scenario. Conversely, models low resolution weighted towards exclusion. Criterion 9. Number simulation runs. climr primarily designed analysis projected climate normals; climate change signal primary interest. Internal variability models confounding factor, producing erratic climate change trajectories noisy climate variables like precipitation winter temperature. signal--noise ratio increased averaging projected normals multiple simulations emissions scenario. Four models (BCC, INM, GFDL, MRI) one run four scenarios, consideration exclusion. Criterion 10: Spatial pattern. IPSL-CM6A-LR pronounced pattern localized summer heating along BC coast ranges, little warming adjacent cells. pattern present Tmin Tmax summer months. may physically credible response within model context, example due snow albedo feedback. However, purposes climr problematic downscale warming pattern across elevations within cell. problem isolated IPSL-CM6A-LR, cell--cell contrast especially pronounced IPSL create artefacts analyses based climr. following models excluded based combination four screening criteria: CanESM5, low horizontal resolution creates grid-box artefacts downscaling high climate sensitivity (ECS 5.6oC) also represented UKESM1-0-LL. INM-CM5-0, low climate sensitivity (ECS 1.9oC) outlier among CMIP6 models -representing observed 1975-2014 global temperature trend (Liang et al. 2020). addition, model one simulation scenarios, producing less robust climate signal. BCC-CSM2-MR, due single simulation scenario low topographic resolution. IPSL-CM6A-LR, due isolated grid cells high summer warming BC Coast Ranges. warming cells may physically plausible (e.g., due snow albedo feedbacks) model’s simplified topography, problematic downscaling high spatial resolution climr. fifth model, UKESM1-0-LL, also high climate sensitivity, similar CanESM5, assessed unlikely based observational evidence. researchers may wish constrain analysis ensemble observations excluding model. Others may wish include model ensembles representation long tail uncertainty upper limit climate sensitivity (Sutton 2018). 8-model subset excludes UKESM1-0 mean global ECS 3.4oC (2.6-4.8oC).","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_ensembleSelection.html","id":"comparison-of-the-13-model-and-8-model-ensemble","dir":"Articles","previous_headings":"","what":"Comparison of the 13-model and 8-model ensemble","title":"Global climate model ensemble selection","text":"differences 13-model 8-model ensembles illustrated Figure 1. mean summer daily maximum temperature (tasmax/Tmax_sm) averaged North America, 13-model ensemble mean 0.5oC (13%) warmer 8-model ensemble mean. proportional differences greater higher emissions scenarios (Figure 1, top). difference ensembles roughly equal difference adjacent scenarios mid-century (2040-2070), less important differences among scenarios later century. emphasizes uncertainty future emissions overshadows differences 13-model 8-model ensemble means. range year--year variability much greater 13-model ensemble (Figure 1, bottom). largely due extreme warming produced high latitudes UKESM1-0 model. interannual variability individual model runs affect users climr (since averaged climate normals), Figure 1 (bottom) illustrates importance careful ensemble selection analysis climate time series. Figure 1: Comparison ClimateNA 13-model ensemble (dashed lines) 8-model ensemble (solid lines). variable mean summer daily maximum temperature (tasmax/Tmax_sm) averaged North America. 8-model ensemble excludes models ECS outside IPCC-assessed 2-5oC range. (top) Ensemble mean projections four main CMIP6 marker scenarios. (bottom) Ensemble mean full range (min/max simulations models) SSP2-4.5 scenario.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_ensembleSelection.html","id":"reconciling-the-equilibrium-climate-sensitivity-of-the-cmip6-ensemble-with-observational-constraints-excerpted-from-mahony-et-al--2022","dir":"Articles","previous_headings":"","what":"Reconciling the equilibrium climate sensitivity of the CMIP6 ensemble with observational constraints (Excerpted from Mahony et al. 2022)","title":"Global climate model ensemble selection","text":"13-model ensemble, like full CMIP6 ensemble, mean (3.7oC) upper limit (5.6oC) equilibrium climate sensitivity substantially exceeds IPCC AR6 assessed best estimate ECS 3oC likely upper limit 5oC (Arias et al. 2021). words, 13-model ensemble contains models simulate stronger global warming supported multiple lines observational evidence. Five (38%) 13 models IPCC AR6 assessed likely upper limit ECS 4oC, two (15%) models likely upper limit 5oC. ensemble strictly conform IPCC assessed range, two models exceeding 4oC ECS models exceeding 5oC, following IPCC’s probabilistic definitions likely (one-sided p>83%) likely (one-sided p>95%). need reconcile CMIP ensemble ECS range observational constraints new dilemma climate change impacts adaptation researchers. long agreed model democracy (one model, one vote) strictly valid method assessing climate change uncertainty (Knutti 2010, Leduc et al. 2016). However, prior CMIP6 objection somewhat academic since distribution ECS CMIP ensembles approximately matched (wider) range ECS supported lines evidence (Schmidt 2021). practical purposes reasonable analysts use multimodel ensemble spread previous CMIP generations proxy scientific uncertainty climate change. approach longer valid given incongruence CMIP6 ensemble range ECS IPCC assessed range (Schmidt 2021). Careful model selection now required avoid biasing regional climate change analyses. several viable approaches constrain CMIP6 ensembles downscaled regional analyses. Weighting models based observational constraints possible regional analyses (Ribes et al. 2021). However, practice many analyses require simply selecting subset CMIP6 ensemble closer IPCC assessed range, done 8-model subset. disadvantage approach discards valuable information excluded models. CanESM5 UKESM1 models advanced models respected modeling centers, demonstrated skill modeling many Earth system processes (Eyring et al. 2021). Expressing variables interest relative amount regional global warming widely practiced technique facilitates inclusion high-ECS models removing timing warming factor ensemble spread (Arias et al. 2021). conceivable techniques used single study; use 8-model ensemble time-relevant analyses larger ensemble analyses warming level relevant. considerations highlight full CMIP6 ensemble somewhat arbitrary collection non-independent models, careful ensemble selection necessary achieve meaningful representation modeling uncertainty.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_ensembleSelection.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Global climate model ensemble selection","text":"Arias, P. ., N. Bellouin, E. Coppola, et al. 2021. Technical Summary. Pages TS1-150 V. Masson-Delmotte, P. Zhai, . Pirani, et al., editors. Climate Change 2021: Physical Science Basis. Contribution Working Group Sixth Assessment Report Intergovernmental Panel Climate Change. Cambridge University Press. Eyring, V., N. P. Gillett, K. M. . Rao, et al. 2021. Human influence climate system. Pages 1–202 V. Masson-Delmotte, P. Zhai, . Pirani, et al., editors. Climate Change 2021: Physical Science Basis. Contribution Working Group Sixth Assessment Report Intergovernmental Panel Climate Change. Cambridge University Press. Mahony, C.R., T. Wang, . Hamann, .J. Cannon. 2022. global climate model ensemble downscaled monthly climate normals North America. International Journal Climatology. 42:5871-5891. doi.org/10.1002/joc.7566 Hausfather, Z., K. Marvel, G. . Schmidt, J. W. Nielsen-Gammon, M. Zelinka. 2022. Climate simulations: recognize “hot model” problem. Nature 605:26–29. Knutti, R. 2010. end model democracy? Climatic Change 102:395–404. Leduc, M., R. Laprise, R. de Elia, L. Separovic. 2016. Institutional Democracy Good Proxy Model Independence? Journal Climate 29:8301–8316. Ribes, ., S. Qasmi, N. P. Gillett. 2021. Making climate projections conditional historical observations. Science Advances 7:1–10. Schmidt, G.. 2021. #NotAllModels. RealClimate. Available : https://www.realclimate.org/index.php/archives/2021/08/notallmodels/ [Accessed 4th January 2022]","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"The climr mosaic of North American climatologies","text":"High-quality gridded climatologies (climate maps) North America currently available, despite availability high-quality climate maps BC continental US (PRISM maps; Daly et al. (2008)). Existing seamless maps made consistent methodology across North America (WorldClim, Daymet, CHELSA) exhibit unacceptable artefacts complex topography western Cordillera. Analysts conducting cross-border studies faced dilemma introducing boundary artefacts associated combining high-quality low-quality products different jurisdictions, alternatively foregoing high-quality climate data achieve cross-border continuity using lower-quality product. need relatively seamless mosaic best available gridded climatologies motivated development ClimateNA mosaic 1961-1990 normals North America (Wang et al. (2016)), widely used decade part ClimateNA downscaling product. development climr, identified several opportunities complement ClimateNA mosaic alternative mosaic: Incorporate recently developed 800m-resolution PRISM maps Alaska (Daly et al. 2018); Use predictive models blend outside boundaries PRISM products, avoid degrading high-quality products blending lower-quality products inside PRISM domains; Compile source climatologies exclusively 1981-2010 period, avoid artefacts associated adjusting different normal periods source data; Use single product (Daymet) central eastern North America provide users seamless map cross-border analyses region; Compile mosaic higher resolution (2.5km instead ClimateNA’s 4km map) conserve complex elevational relationships (e.g. valley inversions) precipitation patterns. article, describe method development climr mosaic 1981-2010 North American Climatologies. highlight regions new mosaic provides substantial improvement ClimateNA mosaic. However, many regions ClimateNA mosaic provides complementary information. example, ClimateNA provides mosaic US PRISM Worldclim maps eastern North America, users may deem preferable climr’s Daymet climatology purposes. Also, since ClimateNA maps stored lower resolution (4km instead climr’s 2.5km), download speed cache size 2.5 times less climr mosaic. reasons, climr::downscale() provides option downscale using either climr mosaic ClimateNA mosaic (which_refmap = c(\"refmap_climr\", \"refmap_climatena\")).","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"methods","dir":"Articles","previous_headings":"","what":"Methods","title":"The climr mosaic of North American climatologies","text":"climr mosaic composite 1981-2010 gridded climate maps following sources (Figure 1): PRISM Western US—Parameter-elevation Regressions Independent Slopes Model (PRISM; Daly et al. (2008)) maps recognized highest-quality gridded climatological normals contiguous United States. blended US PRISM BC PRISM emulator (explained ) latitudes 48oN 49oN. British Columbia PRISM—BC PRISM (Pacific Climate Impacts Consortium (2014)) developed Pacific Climate Impacts Consortium collaboration PRISM Climate Group (Oregon State University). generally highly compatible US Alaska PRISM products, exceptions noted Discussion section. blending PRISM emulator along northern, eastern, southern BC boundary compromise integrity BC PRISM since emulator replicates PRISM map blending region. Alaska PRISM—PRISM 1981-2010 climatological maps Alaska (Daly et al. 2018) best available product, result exhaustive station data compilation local expert review, compatible BC PRISM. Daymet eastern North America Mexico—US PRISM likely preferable Daymet continental US, Daymet (Thornton et al. (2021)) provides north-south continuity across Canada, USA, Mexico. Daymet chosen North American gridded climatologies (WorldClim CHELSA) due relative quality availability 1981-2010 normal period. PRISM Emulator Yukon Northwest Territories—evaluated available climatological maps Yukon Northwest Territories (WorldClim, CHELSA, Daymet, NRCAN ANUSPLIN, Western Canadian 4km 1961-1990 PRISM). None products acceptable quality due low weather station density. provide PRISM-compatible estimation climate region, trained deep learning models BC Alaska PRISM maps predicted Yukon NWT. method described detail . Predictive blending Northern Mexico—US PRISM Daymet maps require blending US-Mexico border avoid boundary artefacts. Rather blending Daymet US PRISM, degrade PRISM map, used machine learning (Random Forest regression) interpolate PRISM Daymet broad swath Northern Mexico. less sophisticated approach PRISM emulation used Yukon NWT, much computationally efficient produced acceptable results. method described detail . 20km Coastal buffer—extended coastal climate values outwards ocean distance 20km shore. retained existing coastal buffers present PRISM products extended outer limit necessary. buffer ensures climate values available outer coastal land areas, intended estimate temperature precipitation ocean. Figure 1. Elements climr mosaic 1981-2010 climatologies. PRISM Daymet publicly available datasets. PRISM Emulator predictive blending developed part climr mosaic method described article. Blending products shown.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"prism-emulator-for-the-yukon-and-northwest-territories","dir":"Articles","previous_headings":"Methods","what":"PRISM emulator for the Yukon and Northwest Territories","title":"The climr mosaic of North American climatologies","text":"Generative Adversarial Networks (GANs; Goodfellow et al. (2014)) deep learning technique originally developed computer vision recently applied downscaling hourly weather simulations. approach applied climate mapping, appealing application ability make predictions spatial patterns, rather just point estimates. way, GANs can used emulate spatial structures climatological mapping technique PRISM thus provide seamless extrapolation PRISM mapping unmapped regions. GAN-predicted climatologies substitute supervised climatological maps PRISM, provide interim solution acceptable climate maps developed, Yukon Northwest Territories. used stochastic implementation GANs (Daust Monahan (2024)) interpolate Alaska/BC PRISM maps Daymet maps east longitude 112oE. One GAN model created climate variable (e.g., January precipitation). PRISM Daymet maps target variable combined predictand layer. predictors, used WorldClim (Fick Hijmans (2017)) climatology target variable well latitude, longitude, elevation, coastal proximity. ran GAN 150 epochs (training iterations), trials indicated epochs generally warranted. created three stochastic models months March, June, September, December means mapping prediction uncertainty. models precipitation exhibited artefacts along arctic coast required local substitution random forest prediction. Evaluation refinement PRISM emulator method ongoing. likely preferable use weather model simulations (ERA5 /Weather Research Forecasting (WRF) model) predictor variables rather WorldClim, likely confounds training due spatially inconsistent climate mapping. , intend produce multiple realizations months (just four) provide comprehensive uncertainty mapping. Finally, need resolve artefacts predicted precipitation along arctic coast.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"predictive-blending-for-northern-mexico","dir":"Articles","previous_headings":"Methods","what":"Predictive blending for northern Mexico","title":"The climr mosaic of North American climatologies","text":"objective predictive blending produce seamless transition US PRISM Daymet south US Border, avoid compromising integrity US PRISM. trained one Random Forest (Breiman (2001)) regression model variable. US PRISM south 35oN Daymet 25-28oN combined predictand layer. predictors variable, used Daymet WorldClim (Fick Hijmans (2017)) climatologies Tmin, Tmax, precipitation target month two adjacent months (.e., Jan-Feb-Mar target month February); using multivariate climate predictors allowed exclusion latitude longitude predictors, caused prediction artefacts trials. Daymet contains precipitation artefacts Baja peninsula; small region trained separate model blend PRISM precipitation WorldClim precipitation.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"grid-resolution","dir":"Articles","previous_headings":"Methods","what":"Grid resolution","title":"The climr mosaic of North American climatologies","text":"aggregated BC PRISM 30-arcsecond (approx 800m) grid 90-arcsecond (approx. 2.5km) resolution extended grid North America. products resampled grid using bilinear interpolation. 2.5km grid scale reduces downloading storage factor 9, retaining sufficient information original PRISM Daymet temperature maps recreated 800m finer resolutions climr’s elevation adjustment inferred lapse rates. climr apply elevation adjustment precipitation, result spatial pattern PRISM precipitation slightly degraded coarser resolution (see Figure 4. assessing whether finer-resolution details PRISM precipitation warranted.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"results","dir":"Articles","previous_headings":"","what":"Results","title":"The climr mosaic of North American climatologies","text":"section provides brief illustration climr mosaic case study regions. ClimateNA output, sourced direct query ClimateNA (Wang et al. (2016)), provided comparison since ClimateNA mosaic available climr alternative reference climatology.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"yukon-territory","dir":"Articles","previous_headings":"Results","what":"Yukon Territory","title":"The climr mosaic of North American climatologies","text":"Figure 2 (left panel) illustrates challenge combining climate maps made using different methodologies (.e., PRISM vs Daymet) region low station density. Daymet PRISM similar January temperatures (Tmax) low elevations weather stations located, opposite lapse rates resulting divergent temperatures higher elevations (Daymet colder PRISM warmer). addition, automated lapse rate calculation Daymet produces regions elevational variation temperature. short, Daymet PRISM incompatible; blending degrade PRISM blending zones create discontinuity mosaic confound downstream analysis. contrast, GAN prediction (PRISM emulator) produces visually credible interpolation BC Alaska PRISM maps Figure 2 (right panel). yet conducted quantitative evaluation GAN predictions relative station data observational evidence. Figure 2. Source data prediction PRISM emulator January Tmax (.e., monthly mean daily maximum temperature) southwest Yukon. Figure 3 provides perspective PRISM emulator relative data sources, using January Tmin example. ClimateNA mosaic (bottom panel) uses blend BC PRISM legacy 1961-1990 4km Western Canadian PRISM Yukon. degrades BC PRISM 50km overlap region northern BC differences two datasets confound cross-border analysis. PRISM emulator (centre panel) produces preferable mosaic, ideal. centre image exhibits abrupt, dubious transition negative lapse rates (warm valleys, cold mountains) BC positive (inverted) lapse rates Yukon. demonstrates need sophisticated PRISM emulation method. , emphasizes PRISM emulator substitute PRISM methodology. Figure 3. Comparison climr ClimateNA mosaics source data January Tmin southwest Yukon.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"bc-alberta-border","dir":"Articles","previous_headings":"Results","what":"BC-Alberta border","title":"The climr mosaic of North American climatologies","text":"Figure 4 shows results PRISM emulator along BC-Alberta border latitude 52-54.5oN. Yukon, PRISM emulator provides credible extrapolation outside BC border, avoding need blend inferior map BC PRISM domain. Notably, ClimateNA able recover spatial resolution elevation adjustment, climatology Rocky Mountains degraded result. weather stations demonstrate challenge climate mapping region: Weather stations exclusively low elevations, providing little support automatic lapse rate calculation used WorldClim Daymet. emphasizes necessity expert-supervised climatological mapping methods PRISM. Figure 4. Comparison climr ClimateNA mosaics source data July Tmax continental divide boundary southern BC Alberta. Filled circles weather stations 1981-2010 normals following colour scheme.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"bc-us-border","dir":"Articles","previous_headings":"Results","what":"BC-US border","title":"The climr mosaic of North American climatologies","text":"BC US PRISM products highly compatible precipitation Tmax, generally result seamless transition 49th parallel Figure 5. Since precipitation elevation-adjusted default climr, aggregating climr mosaic 2.5km resolution results blurring PRISM precipitation map (Figure 5, center panel). aware observational theoretical evidence support precipitation gradients less 3km resolution BC, except dry valleys virga (evaporation precipitation falls) contribute elevational gradients precipitation. result, blurring climr mosaic likely generally acceptable. ClimateNA apply elevation adjustment precipitation, shown bottom panel Figure 5, results valleys drier original PRISM product. climr downscale() function provides option elevation adjustment precipitation (ppt_lr = TRUE) climr ClimateNA mosaics. Figure 5. Comparison climr ClimateNA mosaics source data January precipitation along boundary southern BC Washington State. BC US PRISM products significantly different Tmin, shown Figure 6 (top panel) January Tmin. BC PRISM generally exhibits straightforward negative lapse rates (warm valleys, cold mountaintops), US PRISM exhibits double reversal elevational temperature gradients (warm-cool-warm-cool elevation) eastern western portions image. likely unintended artefact two-layer atmosphere technique employed US PRISM way modeling valley inversions (cold valleys, warm midslopes, cold mountaintops) common throughout western United States. investigate evidence double-reversed lapse rates known issues section article. find compelling evidence gradients based preliminary examination station data, though investigation required rule . Assuming double-reversed Tmin gradients artefact, reduction prominence desirable, contribute coherence BC US components climr mosaic. Two aspects mosaic method contribute dampening Tmin gradients. First, PRISM emulator used blend BC US PRISM 48oN 49oN. Second, aggregation mosaic 800m PRISM resolution 2.5km resolution smooths sharp gradient reversals. recalculation climr mosaic 800m resolution removes gradient reversals, result regions low lapse rates (Figure 6, centre panel). smoothing effect pronounced evident ClimateNA mosaic (Figure 6, bottom panel), 4km resolution ClimateNA mosaic results loss non-artefactual features Columbia River valley tributaries far right image. Figure 6. Comparison climr ClimateNA mosaics source data July Tmin along boundary southern BC Washington State.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"alberta-us-border","dir":"Articles","previous_headings":"Results","what":"Alberta-US border","title":"The climr mosaic of North American climatologies","text":"Daymet PRISM precipitation different character prairies (Figure 7). PRISM precipitation smooth, blotches due variability weather stations. Daymet precipitation obvious station artefacts, fine-scale features drier coulees/ravines may may reflect reality (e.g., due virga). extent cross-border consistency important downstream analyses, beneficial consistent product (Daymet) method (PRISM) mosaic possible. Providing ClimateNA climr mosaics climr gives users option select product best meets needs. climr ClimateNA mosaics apparent discontinuity January precipitation across Canada-US Border. discontinuity also present December February. Since Daymet applies consistent method across border, discontinuity simply blending artefact. yet established reason effect whether real. Figure 7. Comparison climr ClimateNA mosaics source data July Precipitation along Alberta-US boundary.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"us-mexico-border","dir":"Articles","previous_headings":"Results","what":"US-Mexico border","title":"The climr mosaic of North American climatologies","text":"Predictive blending able create visually seamless transition US PRISM Daymet northwestern Mexico (Figure 8). climatology January precipitation climr mosaic drier ClimateNA mosaic along west coast mainland Mexico Colorado river delta north end Gulf California. yet evaluated consistent station observations. Figure 8. Comparison climr ClimateNA mosaics source data January Precipitation along US-Mexico boundary.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"discussion-and-known-issues","dir":"Articles","previous_headings":"","what":"Discussion and known Issues","title":"The climr mosaic of North American climatologies","text":"Evaluation refinement climr mosaic ongoing. section discusses known issues require work.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"double-reversed-tmin-lapse-rates-in-the-us-prism","dir":"Articles","previous_headings":"Discussion and known Issues","what":"Double-reversed Tmin lapse rates in the US PRISM","title":"The climr mosaic of North American climatologies","text":"noted , US PRISM maps exhibit double reversal Tmin lapse rates (warm-cool-warm-cool increasing elevation) many regions Montana, Idaho, Washington State. PRISM pattern may unintended artefact PRISM’s two-layer atmosphere technique used model valley inversions, different lapse rates derived altitude 250m regional base elevation (Daly et al. (2008)). investigate whether evidence double reversal, compared elevation-Tmin relationships station data PRISM four regions spanning BC-US Border. comparison January Tmin shown Figure 9. West Kootenay region BC (region 1), station data strongly supports monotonic negative lapse rate ~-5oC/km employed BC PRISM. BC Rocky Mountains (Region 2), station data ambiguous, BC PRISM uses weaker monotonic lapse rate ~-2oC/km southern portion region. South border Washington State (Region 3), two groups stations. Stations 1100m elevation demonstrate strong lapse rate ~-5oC/km consistent Region 1 stations. stations 1100m ambiguous. US PRISM applies strong lapse rate elevations (visible grey dots) requiring double reversal lapse rates. However, station data portrayed also consistent weak lapse rate 1100m, requiring lapse rate reversals. investigated months, smaller subregions regions 3 4, found compelling evidence double reversal lapse rates. However, analysis doesn’t account topographic position stations factors improve detection complex lapse rates. Consequently, can’t rule presence double-reversed lapse rates. Discussion developers US PRISM (Chris Daly, pers. comm., January 9, 2025) indicated three points: (1) double reversal lapse rates possible, (2) two-layer PRISM method can produce double-reversed temperature profiles artefact sparse station data, (3) definitive evidence double-reversed temperature profiles available. Given ambiguity, simplification lapse rates results aggregating climr mosaic 2.5km seems justifiable. absence definitive evidence, climr-modified lapse rates original PRISM can reasonably considered alternative interpretations ambiguous station data. Figure 9. Evaluation January Tmin lapse rates BC PRISM (areas 1 & 2) US PRISM (areas 3 4). Black dots map weather station locations. Bottom panels show relationship temperature elevation PRISM grid cells (grey dots) stations (black dots) within four numbered square areas map. line stated slope linear best fit station data.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"extrapolation-uncertainty-in-the-prism-emulator","dir":"Articles","previous_headings":"Discussion and known Issues","what":"Extrapolation uncertainty in the PRISM emulator","title":"The climr mosaic of North American climatologies","text":"GAN models trained PRISM climate map BC Alaska. Prediction distant areas Yukon Northwest Territories extrapolation subject error associated novel climate regimes. estimate extrapolation uncertainty, trained three GAN models March, June, October, December. Since models stochastic, intermodel variation likely indicator novel conditions (combinations predictor values topography climate). example June precipitation (Figure 10), generally low intermodel variation training areas BC Alaska high intermodel variation MacKenzie mountains. chose single model prediction climr mosaic, analysis prediction variability indicates spatially variable patterns extrapolation error climr mosaic Yukon NWT. intend provide users uncertainty maps future versions climr, refine selection GAN models conserve annual cycle climatic variation location. Figure 10. Standard deviation June precipitation predictions three deep learning models western arctic. Darker colors indicate higher variation among predictions, likely proxy prediction uncertainty.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"month-to-month-consistency-in-the-prism-emulator","dir":"Articles","previous_headings":"Discussion and known Issues","what":"Month-to-month consistency in the PRISM emulator","title":"The climr mosaic of North American climatologies","text":"current PRISM emulation method uses separate GAN model month climate element (e.g., January Tmin). Extrapolation errors therefore consistent across months. temporal inconsistencies can produce artefacts seasonal cycle climate element locations (e.g., April colder March) unrealistic variation lapse rates among adjacent months. temporal inconsistencies minor temperature, pronounced precipitation. developing sophisticated method PRISM emulation provides temporal consistency adjacent months, update climr mosaic possible. , users corroborate seasonal cycle climr data evidence locations interest Yukon Northwest Territories.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"alberta-foothills","dir":"Articles","previous_headings":"Discussion and known Issues","what":"Alberta foothills","title":"The climr mosaic of North American climatologies","text":"PRISM emulator western Alberta trained windward side Rocky Mountains (BC) predicted onto leeward side (Alberta). raises concern extrapolation errors due underestimation processes continental air mass influence, rainshadow effects, chinook winds. prediction incorporate Alberta climate (WorldClim) predictor, given sparsity station data used WorldClim unlikely substantially mitigate extrapolation errors locations. believe PRISM emulator preferable products uses cross-border compatibility realistic spatial detail. However, users aware climr mosaic Alberta foothills poorly constrained station data yet validated. developing improved methods PRISM emulation address limitations.","code":""},{"path":"https://bcgov.github.io/climr/articles/methods_mosaic.html","id":"acknowledgements","dir":"Articles","previous_headings":"","what":"Acknowledgements","title":"The climr mosaic of North American climatologies","text":"gratefully acknowledge developers component climatologies climr mosaic, namely Pacific Climate Impacts Consortium (British Columbia PRISM maps), PRISM Climate Group (US PRISM maps), NASA Oak Ridge National Laboratory (Daymet), WorldClim.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Kiri Daust. Author, maintainer. Colin Mahony. Author. Bruno Tremblay. Author. Ceres Barros. Author. Francois Bornais. Contributor. Province British Columbia. Copyright holder, funder.","code":""},{"path":"https://bcgov.github.io/climr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Daust K, Mahony C, Tremblay B, Barros C (2024). climr: Downscaling climate data R. https://bcgov.github.io/climr/.","code":"@Manual{,   title = {climr: Downscaling climate data in R},   author = {Kiri Daust and Colin Mahony and Bruno Tremblay and Ceres Barros},   year = {2024},   version = {0.1.0},   url = {https://bcgov.github.io/climr/}, }"},{"path":[]},{"path":"https://bcgov.github.io/climr/index.html","id":"climr-an-r-package-of-downscaled-climate-data-for-north-america","dir":"","previous_headings":"","what":"climr: An R package of downscaled climate data for North America","title":"An R package of downscaled monthly climate data for North America","text":"climr R package builds downscaling concepts operationalized ClimateNA tool (Wang et al. 2016). provides downscaling observational simulated climate data using change-factor (.k.. climate imprint) downscaling, simple method adds low-spatial-resolution climate anomalies high-spatial-resolution reference climatological map, additional elevation adjustment “scale-free” downscaling. climr designed fast minimize local data storage requirements. , uses remote PostGIS database, optionally caches data locally.","code":""},{"path":"https://bcgov.github.io/climr/index.html","id":"subscribe","dir":"","previous_headings":"climr: An R package of downscaled climate data for North America","what":"Subscribe","title":"An R package of downscaled monthly climate data for North America","text":"actively developing climr releasing minor versions every month two. like receive email updates new versions climr released, subscribe climr GitHub repo using following steps: Navigate https://github.com/bcgov/climr. Click “Watch” button top right repository page. Choose “Custom”. Select “Releases”.","code":""},{"path":"https://bcgov.github.io/climr/index.html","id":"features","dir":"","previous_headings":"climr: An R package of downscaled climate data for North America","what":"Features","title":"An R package of downscaled monthly climate data for North America","text":"climr provides following data: Three historical observational time series: (1) 1901-2022 combined Climatic Research Unit TS dataset (temperature) Global Precipitation Climatology Centre dataset (precipitation); (2) 1901-2023 ClimateNA time series (Wang et al., 2024); (3) 1981-2024 Multi-Source Weather (MSWX; temperature) Multi-Source Weighted-Ensemble Precipitation (MSWEP; precipitation), extended back 1901 using CRU/GPCC dataset. Multiple historical (1851-2014) future (2015-2100) climate model simulations 13 CMIP6 global climate models, monthly time series 20-year normals. User selection single multiple climate variables, derived variables following ClimateNA methodology Wang et al. (2016).","code":""},{"path":"https://bcgov.github.io/climr/index.html","id":"data-sources","dir":"","previous_headings":"climr: An R package of downscaled climate data for North America","what":"Data Sources","title":"An R package of downscaled monthly climate data for North America","text":"default reference climate maps North America custom 2.5km-resolution mosaic BC PRISM, US PRISM, deep learning prediction (Yukon, Northwest Territories, Alberta), Daymet (rest North America). climr mosaic described vignette(\"climr_methods_mosaic\"). alternative 4km-resolution ClimateNA mosaics PRISM (BC, US, W. Canada) WorldClim (rest North America) accessed AdaptWest. default historical observational time series obtained Climatic Research Unit, Global Precipitation Climatology Centre, ClimateNA (Wang et al. 2016), . CMIP6 global climate model simulations downloaded Earth System Grid Federation. majority downloads conducted Tongli Wang, Associate Professor UBC Department Forest Conservation Sciences. 13 global climate models selected climr, best practices ensemble analysis, described Mahony et al. (2022) summarized vignette(\"climr_methods_ensembleSelection\").","code":""},{"path":"https://bcgov.github.io/climr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"An R package of downscaled monthly climate data for North America","text":"climr available GitHub. install please use: want install development version: get error installation, try following: rerun install_github(). computers, default R download method doesn’t play nicely github.","code":"remotes::install_github(\"bcgov/climr\") remotes::install_github(\"bcgov/climr@devl\") options(download.file.method = \"libcurl\")"},{"path":"https://bcgov.github.io/climr/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"An R package of downscaled monthly climate data for North America","text":"See vignette(\"climr_workflow_beg\") get started simple climr workflows;","code":""},{"path":"https://bcgov.github.io/climr/index.html","id":"methods","dir":"","previous_headings":"","what":"Methods","title":"An R package of downscaled monthly climate data for North America","text":"overview downscaling methods used climr see vignette(\"methods_downscaling\")","code":""},{"path":"https://bcgov.github.io/climr/index.html","id":"known-issues","dir":"","previous_headings":"","what":"Known issues","title":"An R package of downscaled monthly climate data for North America","text":"Downloads time series take long time. recommend users dedicate time prior analysis cache time series interest areas interest batch. time series cached, don’t need downloaded . still working documentation, examples, vignettes. Please let us know something isn’t clear, preferably GitHub issue.","code":""},{"path":"https://bcgov.github.io/climr/index.html","id":"license","dir":"","previous_headings":"Known issues","what":"License","title":"An R package of downscaled monthly climate data for North America","text":"Copyright 2024 Province British Columbia Licensed Apache License, Version 2.0 (“License”); may use file except compliance License. may obtain copy License http://www.apache.org/licenses/LICENSE-2.0 Unless required applicable law agreed writing, software distributed License distributed “” BASIS, WITHOUT WARRANTIES CONDITIONS KIND, either express implied. See License specific language governing permissions limitations License. climr logo uses icon designed Freepik, Flaticon.com, available .","code":""},{"path":"https://bcgov.github.io/climr/index.html","id":"acknowledgements","dir":"","previous_headings":"Known issues","what":"Acknowledgements","title":"An R package of downscaled monthly climate data for North America","text":"acknowledge World Climate Research Programme, , Working Group Coupled Modelling, coordinated promoted CMIP6. thank climate modeling groups producing making available model output, Earth System Grid Federation (ESGF) archiving data providing access, multiple funding agencies support CMIP6 ESGF.","code":""},{"path":"https://bcgov.github.io/climr/index.html","id":"references","dir":"","previous_headings":"Known issues","what":"References","title":"An R package of downscaled monthly climate data for North America","text":"Mahony, C.R., T. Wang, . Hamann, .J. Cannon. 2022. global climate model ensemble downscaled monthly climate normals North America. International Journal Climatology. 42:5871-5891. doi.org/10.1002/joc.7566 Wang, Tongli, Andreas Hamann, Dave Spittlehouse, Carlos Carroll. 2016. “Locally Downscaled Spatially Customizable Climate Data Historical Future Periods North America.” Edited Inés Álvarez. PLOS ONE 11 (6): e0156720. Wang, Tongli, Andreas Hamann, Zihaohan Sang. 2024. “Monthly High-Resolution Historical Climate Data North America Since 1901.” International Journal Climatology. early view: https://doi.org/10.1002/joc.8726.","code":""},{"path":"https://bcgov.github.io/climr/reference/BECcols.html","id":null,"dir":"Reference","previous_headings":"","what":"Colour scheme for Biogeoclimatic Ecological Classification Zones — BECcols","title":"Colour scheme for Biogeoclimatic Ecological Classification Zones — BECcols","text":"data.table RGB HEX colours biogeoclimatic zones BC.","code":""},{"path":"https://bcgov.github.io/climr/reference/BECcols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Colour scheme for Biogeoclimatic Ecological Classification Zones — BECcols","text":"","code":"BECcols"},{"path":"https://bcgov.github.io/climr/reference/BECcols.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Colour scheme for Biogeoclimatic Ecological Classification Zones — BECcols","text":"data.table","code":""},{"path":"https://bcgov.github.io/climr/reference/BECcols.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Colour scheme for Biogeoclimatic Ecological Classification Zones — BECcols","text":"colour scheme commonly used BC provincial government.","code":""},{"path":"https://bcgov.github.io/climr/reference/BECz_vancouver.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Biogeoclimatic Ecological Classification Zones — BECz_vancouver","title":"Example Biogeoclimatic Ecological Classification Zones — BECz_vancouver","text":"shapefile biogeoclimatic zones coast Vancouver, BC, Canada. use data set, need terra::unwrap first, e.g.: BECz_vancouver <- terra::unwrap(get(data(BECz_vancouver)))","code":""},{"path":"https://bcgov.github.io/climr/reference/BECz_vancouver.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example Biogeoclimatic Ecological Classification Zones — BECz_vancouver","text":"","code":"BECz_vancouver"},{"path":"https://bcgov.github.io/climr/reference/BECz_vancouver.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example Biogeoclimatic Ecological Classification Zones — BECz_vancouver","text":"PackedSpatVector","code":""},{"path":"https://bcgov.github.io/climr/reference/BECz_vancouver.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example Biogeoclimatic Ecological Classification Zones — BECz_vancouver","text":"obtained bcdata package, using bcdc_get_data(\"bec-map-generalized-1-20k-\")","code":""},{"path":"https://bcgov.github.io/climr/reference/BECz_vancouver_ras.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Biogeoclimatic Ecological Classification Zones in raster format — BECz_vancouver_ras","title":"Example Biogeoclimatic Ecological Classification Zones in raster format — BECz_vancouver_ras","text":"categorical raster biogeoclimatic zones coast Vancouver, BC, Canada. Derived BECz_vancouver using dem_vancouver template extent, resolution projection information. use data set, need terra::unwrap first, e.g.: BECz_vancouver_ras <- terra::unwrap(get(data(BECz_vancouver_ras)))","code":""},{"path":"https://bcgov.github.io/climr/reference/BECz_vancouver_ras.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example Biogeoclimatic Ecological Classification Zones in raster format — BECz_vancouver_ras","text":"","code":"BECz_vancouver_ras"},{"path":"https://bcgov.github.io/climr/reference/BECz_vancouver_ras.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example Biogeoclimatic Ecological Classification Zones in raster format — BECz_vancouver_ras","text":"PackedSpatRaster","code":""},{"path":"https://bcgov.github.io/climr/reference/BECz_vancouver_ras.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example Biogeoclimatic Ecological Classification Zones in raster format — BECz_vancouver_ras","text":"derived BECz_vancouver","code":""},{"path":"https://bcgov.github.io/climr/reference/Caching.html","id":null,"dir":"Reference","previous_headings":"","what":"Return package local cache path — cache_path","title":"Return package local cache path — cache_path","text":"Return package local cache path Clear package's local cache path Attempts delete folder/files cache_path().","code":""},{"path":"https://bcgov.github.io/climr/reference/Caching.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return package local cache path — cache_path","text":"","code":"cache_path()  cache_clear(what = c(\"gcms\", \"gcmts\", \"gcmhist\", \"reference\", \"obs\", \"obs_ts\"))"},{"path":"https://bcgov.github.io/climr/reference/Caching.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return package local cache path — cache_path","text":"character. data folders cleared? Accepts \"reference\", \"gcms\" .","code":""},{"path":"https://bcgov.github.io/climr/reference/Caching.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return package local cache path — cache_path","text":"character. full path package local cache. TRUE FALSE depending whether cache cleared successfully .","code":""},{"path":"https://bcgov.github.io/climr/reference/Caching.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Return package local cache path — cache_path","text":"default, uses tools::R_user_dir(). cache location can set using climr.cache.path option options(\"climr.cache.path\" = \"your_path\"). may fail R permission delete files/folders cache_path() directory","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/reference/append_clim_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Append Additional Climate Variables Add extra climate variables to a SpatRaster or data.table — append_clim_vars","title":"Append Additional Climate Variables Add extra climate variables to a SpatRaster or data.table — append_clim_vars","text":"Append Additional Climate Variables Add extra climate variables SpatRaster data.table","code":""},{"path":"https://bcgov.github.io/climr/reference/append_clim_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Append Additional Climate Variables Add extra climate variables to a SpatRaster or data.table — append_clim_vars","text":"","code":"append_clim_vars(dt, vars)"},{"path":"https://bcgov.github.io/climr/reference/append_clim_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Append Additional Climate Variables Add extra climate variables to a SpatRaster or data.table — append_clim_vars","text":"dt object add variables. Eith SpatRaster data.table vars variables add","code":""},{"path":"https://bcgov.github.io/climr/reference/climatevar.html","id":null,"dir":"Reference","previous_headings":"","what":"Climate variables calculation — calc_DD_below_0","title":"Climate variables calculation — calc_DD_below_0","text":"bFFP : Day year Frost-Free Period begins eFFP : Day year Frost-Free Period ends Based simplified Penman - Monteith method Hogg (1997)","code":""},{"path":"https://bcgov.github.io/climr/reference/climatevar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Climate variables calculation — calc_DD_below_0","text":"","code":"calc_DD_below_0(m, tm)  calc_DD_above_5(m, tm, region)  calc_DD_below_18(m, tm)  calc_DD_above_18(m, tm, region)  calc_EMT(t_min_list, mcmt, td)  calc_EXT(t_max_list, mwmt, td)  calc_MCMT(t_ave_list)  calc_MWMT(t_ave_list)  calc_TD(mcmt, mwmt)  calc_Eref(m, tmmin, tmmax, latitude)  calc_CMD(Eref, PPT)  calc_bFFP(td, NFFD, t_min_list)  calc_eFFP(NFFD, t_min_list)  calc_FFP(bFFP, eFFP)  calc_NFFD(m, tmin)  calc_PAS(m, tave, PPT)  calc_RH(tmmin, tmmax)  calc_PET(tave, tmmin, tmmax, alt)  calc_SVP(t)"},{"path":"https://bcgov.github.io/climr/reference/climatevar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Climate variables calculation — calc_DD_below_0","text":"m integer. Month year. tm numeric. Monthly mean temperature m month. region character. One either \"\", \"West\", \"East\". t_min_list list monthly minimum temperature month order. mcmt Mean Temperature Coldest Month td numeric. Difference mean warmest monthly temperature mean coldest monthly temperature. t_max_list list monthly maximum temperature month order mwmt Mean Temperature Warmest Month tmmin numeric. Monthly mean minimum air temperature. tmmax numeric. Monthly mean maximum air temperature. latitude numeric. Point latitudes. Eref Reference evaporation PPT numeric. Precipitation mm. NFFD numeric. Number Frost-Free Days. bFFP numeric. Day year Frost-Free Period begins eFFP numeric. Day year Frost-Free Period ends tmin numeric. Minimum temperature m month. tave numeric. Monthly average air temperature. alt numeric. Altitude m. t numeric. Air temperature degree Celsius.","code":""},{"path":"https://bcgov.github.io/climr/reference/climatevar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Climate variables calculation — calc_DD_below_0","text":"numeric. Reference evaporation (Eref) numeric. Climatic moisture deficit numeric. Julian day Frost-Free Period begins numeric. Julian day Frost-Free Period ends numeric. Frost-Free Period days numeric. Number Frost Free Days numeric. Precipitation Snow numeric. Relative Humidity","code":""},{"path":"https://bcgov.github.io/climr/reference/climatevar.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Climate variables calculation — calc_DD_below_0","text":"Hogg, E.H. (1997). Temporal scaling moisture forest-grassland boundary western Canada. Agricultural Forest Meteorology, Research Forest Environmental Influences Changing World, 84, 115–122.","code":""},{"path":"https://bcgov.github.io/climr/reference/climatevar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Climate variables calculation — calc_DD_below_0","text":"","code":"if (FALSE) { # \\dontrun{ climr:::calc_DD_below_0(2, -14) } # } if (FALSE) { # \\dontrun{ climr:::calc_DD_above_5(2, -14, \"All\") } # } if (FALSE) { # \\dontrun{ climr:::calc_DD_below_18(2, -14) } # } if (FALSE) { # \\dontrun{ climr:::calc_DD_above_18(2, -14, \"All\") } # } if (FALSE) { # \\dontrun{ t_min_list <- list(   \"1\" = -35, \"2\" = -32, \"3\" = -25, \"4\" = -10,   \"5\" = -5, \"6\" = 3, \"7\" = 15, \"8\" = 17, \"9\" = 10, \"10\" = -5,   \"11\" = -20, \"12\" = -30 )  climr::calc_bFFP(td = 30, NFFD = 10, t_min_list = t_min_list) } # } if (FALSE) { # \\dontrun{ t_min_list <- list(   \"1\" = -35, \"2\" = -32, \"3\" = -25, \"4\" = -10,   \"5\" = -5, \"6\" = 3, \"7\" = 15, \"8\" = 17, \"9\" = 10, \"10\" = -5,   \"11\" = -20, \"12\" = -30 )  climr::calc_eFFP(NFFD = 10, t_min_list = t_min_list) } # } if (FALSE) { # \\dontrun{ climr::calc_FFP(bFFP = 214.5964, eFFP = 265.4581) } # } if (FALSE) { # \\dontrun{ climr::calc_NFFD(3, 2.05) } # } if (FALSE) { # \\dontrun{ climr::calc_PAS(4, 2, 600) } # } if (FALSE) { # \\dontrun{ climr::calc_RH(tmmin = 10, tmmax = 40) } # }"},{"path":"https://bcgov.github.io/climr/reference/climr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"climr: An R package of downscaled monthly climate data for North America — climr-package","title":"climr: An R package of downscaled monthly climate data for North America — climr-package","text":"Builds downscaling concepts operationalized 'ClimateNA' tool (https://climatena.ca) (Wang et al. 2016 doi:10.1371/journal.pone.0156720 ). provides downscaling observational simulated climate data using change-factor downscaling, simple method adds low-spatial-resolution climate anomalies high-spatial-resolution reference climatological map, additional elevation adjustment temperature. Elevation-adjusted monthly values basic climate elements (temperature precipitation) used estimate derived variables (e.g., degree-days) based published equations parameters Wang et al. 2016. package designed fast minimize local data storage requirements. , uses remote 'PostGIS' database, optionally caches data locally.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/reference/climr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"climr: An R package of downscaled monthly climate data for North America — climr-package","text":"Maintainer: Kiri Daust kiri.daust@gov.bc.ca Authors: Colin Mahony Colin.Mahony@gov.bc.ca (ORCID) Bruno Tremblay bruno@boostao.ca (ORCID) Ceres Barros ceres.barros@nrcan-rncan.gc.ca (ORCID) contributors: Francois Bornais francois@boostao.ca [contributor] Province British Columbia [copyright holder, funder]","code":""},{"path":"https://bcgov.github.io/climr/reference/colSelect.html","id":null,"dir":"Reference","previous_headings":"","what":"function for specifying the color — colSelect","title":"function for specifying the color — colSelect","text":"function specifying color function specifying color","code":""},{"path":"https://bcgov.github.io/climr/reference/colSelect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"function for specifying the color — colSelect","text":"","code":"colSelect(scenario, gcm, pal.scenario, scenarios, pal, pal.gcms)  colSelect(scenario, gcm, pal.scenario, scenarios, pal, pal.gcms)"},{"path":"https://bcgov.github.io/climr/reference/colSelect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"function for specifying the color — colSelect","text":"scenario TODO gcm TODO pal.scenario TODO scenarios TODO pal character. color palette. Options \"scenario\", use comparing scenarios, \"gcms\", use comparing GCMs. pal.gcms TODO","code":""},{"path":"https://bcgov.github.io/climr/reference/data-option-lists.html","id":null,"dir":"Reference","previous_headings":"","what":"List available runs, global climate models (GCMs), time periods and scenarios (SSPs) — list_gcms","title":"List available runs, global climate models (GCMs), time periods and scenarios (SSPs) — list_gcms","text":"list_gcms lists available global climate models. list_ssps lists available greenhouse gas concentration scenarios (SSP-RCPs). list_gcm_periods lists available 20-year normal periods GCM simulations. list_runs_ssp lists available runs given GCM/ssp. list_runs_historic lists available runs historical simulation (1851-2014) specified GCM. list_refmaps lists available reference maps gridded climate normals list_obs_periods lists available normal periods observational climate data list_vars lists available climate variables list_obs_years lists available years time series observational climate data list_gcm_ssp_years lists available years time series global climate model future simulations list_gcm_hist_years lists available years time series global climate model historical simulations","code":""},{"path":"https://bcgov.github.io/climr/reference/data-option-lists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List available runs, global climate models (GCMs), time periods and scenarios (SSPs) — list_gcms","text":"","code":"list_gcms()  list_ssps()  list_gcm_periods()  list_runs_ssp(gcm, ssp)  list_runs_historic(gcm)  list_refmaps()  list_obs_periods()  list_vars(set = c(\"All\", \"Monthly\", \"Seasonal\", \"Annual\"), only_extra = FALSE)  list_obs_years()  list_gcm_ssp_years()  list_gcm_hist_years()"},{"path":"https://bcgov.github.io/climr/reference/data-option-lists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List available runs, global climate models (GCMs), time periods and scenarios (SSPs) — list_gcms","text":"gcm Name GCM ssp Name scenario Must one elements list_ssps(). set character. One c(\"\", \"Monthly\", \"Seasonal\", \"Annual\") combination thereof. Defaults \"\". only_extra logical. Tmin, Tmax PPT excluded? Defaults FALSE.","code":""},{"path":"https://bcgov.github.io/climr/reference/data-option-lists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List available runs, global climate models (GCMs), time periods and scenarios (SSPs) — list_gcms","text":"character vector.","code":""},{"path":"https://bcgov.github.io/climr/reference/data-option-lists.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"List available runs, global climate models (GCMs), time periods and scenarios (SSPs) — list_gcms","text":"eight-gcm ensemble recommended Mahony et al. (2022) can specified gcms = list_gcm()[c(1,4,5,6,7,10,11,12)]. Currently available reference maps gridded climate normals (list_refmaps()) : \"refmap_climatena\" Climate NA derived normals \"refmap_climr\" composite BC PRISM, adjusted US PRISM DAYMET (Alberta Saskatchewan), covering North America lookup table variable names, units, types, attributes available calling data(variables).","code":""},{"path":"https://bcgov.github.io/climr/reference/data_connect.html","id":null,"dir":"Reference","previous_headings":"","what":"List connections in cache — data_connect","title":"List connections in cache — data_connect","text":"List connections cache List connections cache Clear connections cache","code":""},{"path":"https://bcgov.github.io/climr/reference/data_connect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List connections in cache — data_connect","text":"","code":"data_connect(profile = .globals[[\"sessprof\"]]$list())  connections()  connections_clear()"},{"path":"https://bcgov.github.io/climr/reference/data_connect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List connections in cache — data_connect","text":"profile Either climr-db-user local.","code":""},{"path":"https://bcgov.github.io/climr/reference/dbGetRaster.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raster with bounding box from PostGIS (boostao version) — dbGetRaster","title":"Download raster with bounding box from PostGIS (boostao version) — dbGetRaster","text":"Download raster bounding box PostGIS (boostao version)","code":""},{"path":"https://bcgov.github.io/climr/reference/dbGetRaster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raster with bounding box from PostGIS (boostao version) — dbGetRaster","text":"","code":"dbGetRaster(name, tile, rast = \"rast\", bands = 37:73, boundary)"},{"path":"https://bcgov.github.io/climr/reference/dbGetRaster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raster with bounding box from PostGIS (boostao version) — dbGetRaster","text":"name character. Table name database. tile Logical. Retrieve data tiles avoid overloading database? rast character. Name column stores raster data. Defaults \"rast\" bands numeric. raster bands return. Default 37:73. boundary numeric. Vector length 4 (ymax,ymin,xmax,xmin). Defaults NULL.","code":""},{"path":"https://bcgov.github.io/climr/reference/dbGetRaster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raster with bounding box from PostGIS (boostao version) — dbGetRaster","text":"SpatRaster","code":""},{"path":"https://bcgov.github.io/climr/reference/dbGetTiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Download individual raster tiles from PostGIS — dbGetTiles","title":"Download individual raster tiles from PostGIS — dbGetTiles","text":"Download individual raster tiles PostGIS","code":""},{"path":"https://bcgov.github.io/climr/reference/dbGetTiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download individual raster tiles from PostGIS — dbGetTiles","text":"","code":"dbGetTiles(name, pnts, bands = 1:73)"},{"path":"https://bcgov.github.io/climr/reference/dbGetTiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download individual raster tiles from PostGIS — dbGetTiles","text":"name character. Table name database. pnts data.table point locations columns lon lat bands numeric. raster bands return. Default 37:73.","code":""},{"path":"https://bcgov.github.io/climr/reference/dbGetTiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download individual raster tiles from PostGIS — dbGetTiles","text":"SpatRaster","code":""},{"path":"https://bcgov.github.io/climr/reference/dem_vancouver.html","id":null,"dir":"Reference","previous_headings":"","what":"Example DEM — dem_vancouver","title":"Example DEM — dem_vancouver","text":"Digital elevation model North Vancouver, BC, Canada. use data set, need terra::unwrap first, e.g.: dem_vancouver <- terra::unwrap(get(data(dem_vancouver)))","code":""},{"path":"https://bcgov.github.io/climr/reference/dem_vancouver.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example DEM — dem_vancouver","text":"","code":"dem_vancouver"},{"path":"https://bcgov.github.io/climr/reference/dem_vancouver.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example DEM — dem_vancouver","text":"PackedSpatRaster","code":""},{"path":"https://bcgov.github.io/climr/reference/dem_vancouver.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example DEM — dem_vancouver","text":"todo add/describe source","code":""},{"path":"https://bcgov.github.io/climr/reference/dem_vancouver_lowres.html","id":null,"dir":"Reference","previous_headings":"","what":"Example low resolution DEM — dem_vancouver_lowres","title":"Example low resolution DEM — dem_vancouver_lowres","text":"lower resolution version dem_vancouver, re-projected 0.005 degrees. use data set, need terra::unwrap first, e.g.: dem_vancouver_lowres <- terra::unwrap(get(data(dem_vancouver_lowres)))","code":""},{"path":"https://bcgov.github.io/climr/reference/dem_vancouver_lowres.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example low resolution DEM — dem_vancouver_lowres","text":"","code":"dem_vancouver_lowres"},{"path":"https://bcgov.github.io/climr/reference/dem_vancouver_lowres.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example low resolution DEM — dem_vancouver_lowres","text":"PackedSpatRaster","code":""},{"path":"https://bcgov.github.io/climr/reference/dem_vancouver_lowres.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example low resolution DEM — dem_vancouver_lowres","text":"todo add/describe source","code":""},{"path":"https://bcgov.github.io/climr/reference/downscale.html","id":null,"dir":"Reference","previous_headings":"","what":"Self-contained change-factor downscaling of observed and simulated climate data — downscale","title":"Self-contained change-factor downscaling of observed and simulated climate data — downscale","text":"downscale() provides downscaled climate variables user-specified locations. adapts simple change-factor (aka \"delta') downscaling approach originally implemented ClimateNA. approach downscales climate data three stages: Change-factor downscaling coarse-resolution (50-200km grid) monthly temperature precipitation data climate models observational sources high-resolution (800m grid); Elevation adjustment temperature variables provide scales finer high-resolution reference grid; Calculating derived variables downscaled monthly temperature precipitation variables. See vignette(\"methods_downscaling\") description downscaling methodology. downscale() user-friendly wrapper downscale_core()","code":""},{"path":"https://bcgov.github.io/climr/reference/downscale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Self-contained change-factor downscaling of observed and simulated climate data — downscale","text":"","code":"downscale(   xyz,   which_refmap = \"refmap_climr\",   obs_periods = NULL,   obs_years = NULL,   obs_ts_dataset = NULL,   gcms = NULL,   ssps = NULL,   gcm_periods = NULL,   gcm_ssp_years = NULL,   gcm_hist_years = NULL,   ensemble_mean = TRUE,   max_run = 0L,   run_nm = NULL,   cache = TRUE,   local = FALSE,   indiv_tiles = FALSE,   db_option = \"auto\",   return_refperiod = TRUE,   ... )"},{"path":"https://bcgov.github.io/climr/reference/downscale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Self-contained change-factor downscaling of observed and simulated climate data — downscale","text":"xyz terra::SpatRaster single layer containing elevation values metres, data.frame following columns \"long\", \"lat\", \"elev\", unique \"id\". extra columns ignored output. which_refmap character. map 1961-1990 climatological normals use high-resolution reference climate map downscaling. Default \"refmap_climr\". options one list_refmaps(). obs_periods character. historical period observational climate data, averaged period. Options list_obs_periods(). obs_years integer. Vector years obtain individual years time series observational climate data. See list_obs_years() available years. obs_ts_dataset character. dataset use observational time series data. Options \"climatena\" ClimateNA gridded time series \"cru.gpcc\" combined Climatic Research Unit TS dataset (temperature) Global Precipitation Climatology Centre dataset (precipitation). gcms character. Vector global climate model names. Options list_gcms(). ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. gcm_periods character. 20-year reference periods GCM simulations. Options list_gcm_periods(). gcm_ssp_years character. Timeseries years GCM simulations future scenarios specified ssps. See list_gcm_ssp_years() available years. gcm_hist_years character.  Timeseries years GCM simulations historical scenario. See list_gcm_hist_years() available years. ensemble_mean Logical. Return mean individual GCM runs? ensemble_mean = TRUE max_run = 0, mean returned. return individual run exclude mean, set ensemble_mean = FALSE max_run = 1. max_run integer. Maximum number model runs include, including ensemble mean. Runs included order found models data max_run reached. Defaults 0L. run_nm character. NULL length >= 1. Name specified run(s) return, instead using max_run. Use list_runs_*() functions list available runs.Defaults NULL. cache logical. Cache data locally? Default TRUE local logical. postgres database local? Default FALSE indiv_tiles logical. download necessary tiles instead full bounding box? generally faster, cache. db_option character. One auto, database, local. Default auto. return_refperiod logical. Return 1961-1990 period? Default TRUE ... arguments passed downscale_core(). Namely: vars, out_spatial plot","code":""},{"path":"https://bcgov.github.io/climr/reference/downscale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Self-contained change-factor downscaling of observed and simulated climate data — downscale","text":"data.table SpatRaster downscaled climate variables location. outputs returned one table. output SpatRaster, layer corresponds variable.","code":""},{"path":"https://bcgov.github.io/climr/reference/downscale.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Self-contained change-factor downscaling of observed and simulated climate data — downscale","text":"downscale_core() parameters can applied downscale(). example, setting ppt_lr = TRUE downscale() apply elevation adjustment precipitation values. standard climr method, db_option = \"local\" downloads optionally caches raster data, processing locally. Option database submits points climr database, processes database server. generally faster ) points, b) timeseries many layers. Option auto attempts intelligently combine methods depending input: fewer 5 points submitted, downscaling done database, otherwise period downscaling done locally, timeseries done database.","code":""},{"path":"https://bcgov.github.io/climr/reference/downscale.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Self-contained change-factor downscaling of observed and simulated climate data — downscale","text":"","code":"## provide or create a dataframe of lon, lat, elev, and id - usually read from csv file in_xyz <- data.frame(   lon = c(-127.7052, -127.6227, -127.5623, -127.7162, -127.1858, -127.125, -126.9495, -126.9550),   lat = c(55.3557, 55.38847, 55.28537, 55.25721, 54.88135, 54.65636, 54.6913, 54.61025),   elev = c(291, 296, 626, 377, 424, 591, 723, 633),   id = 1:8 )  ## historic observational time series vars <- c(\"PPT_an\", \"CMD_an\", \"Tave_07\") climate_norms_hist <- downscale(   xyz = in_xyz,   which_refmap = \"refmap_climr\",   return_refperiod = TRUE,   obs_periods = \"2001_2020\",   vars = vars,   out_spatial = TRUE, plot = \"PPT_an\" ) ## specify desired variables to plot #> Welcome to climr! #> Getting observed anomalies... #> Downloading observed period anomalies #> . #> Caching data... #> Downloading new data from refmap_climr... #> . #> Caching data... #> Downscaling... #> Plotting results for a single period/GCM/run/SSP   ## as a data.table climate_norms_hist <- downscale(   xyz = in_xyz, which_refmap = \"refmap_climr\",   return_refperiod = TRUE,   vars = vars,   out_spatial = FALSE, plot = \"PPT_an\" ) ## specify desired variables to plot #> Welcome to climr! #> Retrieving from cache... #> Downscaling...  ## future projections for annual variables from three models climate_norms_fut <- downscale(   xyz = in_xyz, which_refmap = \"refmap_climr\",   gcms = list_gcms()[c(1, 5, 6)],   ssps = list_ssps()[2],   gcm_periods = list_gcm_periods()[1:2],   # gcm_ssp_years = 2020:2060,   max_run = 3, #' we want 3 individual runs for the model   vars = list_vars(\"Annual\") ) #> Welcome to climr! #> Getting GCMs... #> Downloading GCM anomalies #> . #> Caching data... #> Downloading GCM anomalies #> . #> Caching data... #> Downloading GCM anomalies #> . #> Caching data... #> Retrieving from cache... #> Downscaling..."},{"path":"https://bcgov.github.io/climr/reference/downscale_core.html","id":null,"dir":"Reference","previous_headings":"","what":"Change-factor downscaling of user-supplied climate data — downscale_core","title":"Change-factor downscaling of user-supplied climate data — downscale_core","text":"downscale_core() engine downscale(). takes user-supplied high- low-resolution rasters input downscales user-specified point locations. less user-friendly downscale(), downscale_core() flexible users can supply raster inputs. example, user supply high-resolution climate map, instead available climr, input refmap. Another example downscaling uniform warming level, shown example function.","code":""},{"path":"https://bcgov.github.io/climr/reference/downscale_core.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change-factor downscaling of user-supplied climate data — downscale_core","text":"","code":"downscale_core(   xyz,   refmap,   gcms = NULL,   obs = NULL,   gcm_ssp_ts = NULL,   gcm_hist_ts = NULL,   obs_ts = NULL,   return_refperiod = TRUE,   vars = sort(sprintf(c(\"PPT_%02d\", \"Tmax_%02d\", \"Tmin_%02d\"), sort(rep(1:12, 3)))),   ppt_lr = FALSE,   nthread = 1L,   out_spatial = FALSE,   plot = NULL,   skip_check = FALSE )  downscale_db_core(   xyz,   refmap,   gcms = NULL,   obs = NULL,   gcm_ssp_ts = NULL,   gcm_hist_ts = NULL,   obs_ts = NULL,   return_refperiod = TRUE,   vars = sort(sprintf(c(\"PPT_%02d\", \"Tmax_%02d\", \"Tmin_%02d\"), sort(rep(1:12, 3)))),   ppt_lr = FALSE,   nthread = 1L,   out_spatial = FALSE,   plot = NULL )"},{"path":"https://bcgov.github.io/climr/reference/downscale_core.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change-factor downscaling of user-supplied climate data — downscale_core","text":"xyz terra::SpatRaster single layer containing elevation values metres, data.frame following columns \"long\", \"lat\", \"elev\", unique \"id\". extra columns ignored output. refmap SpatRaster. Outputs input_refmap(). high-resolution climate maps use downscaling baseline. gcms list SpatRasters. Outputs input_gcms(). Global climate models downscaled. obs list SpatRasters. Outputs input_obs(). Observed climate data 20-year reference periods downscaled. gcm_ssp_ts list SpatRasters. Outputs input_gcm_ssp(). Global climate model time series ssps-rcp scenarios downscaled. gcm_hist_ts list SpatRasters. Outputs input_gcm_hist(). Global climate model time series historical scenario downscaled. obs_ts list SpatRasters. Outputs input_obs_ts(). Observed climate time series downscaled. return_refperiod logical. Return downscaled reference period (1961-1990)? vars character. vector climate variables compute. Supported variables can obtained list_vars(). Definitions can found package variables dataset. Default monthly PPT, Tmax, Tmin. ppt_lr logical. Apply elevation adjustment precipitation. nthread integer. Number parallel threads use computations. supported table points. out_spatial logical. SpatVector returned instead data.frame. plot character. out_spatial TRUE, name variable plot. variable exists reference, reference values also plotted. Otherwise, reference January total precipitation (PPT01) values plotted. skip_check boolean. Skip checks coming downscale.","code":""},{"path":"https://bcgov.github.io/climr/reference/downscale_core.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Change-factor downscaling of user-supplied climate data — downscale_core","text":"SpatRaster, data.table SpatVector downscaled climate variables. gcms NULL, just downscaled reference point locations. gcms provided, returns downscaled dataset point location, global climate model (GCM), shared socioeconomic pathway scenario (SSP), model run, period.","code":""},{"path":"https://bcgov.github.io/climr/reference/downscale_core.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Change-factor downscaling of user-supplied climate data — downscale_core","text":"recommend downscale() purposes.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/reference/downscale_core.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Change-factor downscaling of user-supplied climate data — downscale_core","text":"","code":"## library(terra) #> terra 1.8.60 xyz <- data.frame(   lon = runif(10, -130, -106),   lat = runif(10, 37, 50),   elev = runif(10), id = 1:10 )  ## get bounding box based on input points thebb <- get_bb(xyz)   # obtain the climatena 1961-1990 normals for the study area. refmap <- input_refmap(thebb, reference = \"refmap_climatena\") #> Downloading new data from normal_na... #> ............... |---------|---------|---------|---------| =========================================                                            #> Caching data...  # obtain the low-resolution climate data for a single gcm, 20-year period, and ssp scenario. gcm_raw <- input_gcms(   thebb,   list_gcms()[3],   list_ssps()[1],   period = list_gcm_periods()[2] ) #> Downloading GCM anomalies #> . #> Caching data...  # downscale the GCM data gcm_downscaled <- downscale_core(   xyz = xyz,   refmap = refmap,   gcms = gcm_raw,   vars = c(\"MAT\", \"PAS_an\") )  # create an input of uniform warming of 2 degrees Celsius and no precipitation change, for use as # a null comparison to the GCM warming null <- gcm_raw #' use the gcm input object as a template names(null) <- \"null_2C\" names(null[[1]]) <- sapply(   strsplit(names(null[[1]]), \"_\"),    function(x) paste(\"null2C\", x[2], x[3], \"NA\", \"NA\", \"NA\", \"NA\", sep = \"_\")) for (var in names(null[[1]])) {   values(null[[1]][[var]]) <- if (length(grep(\"PPT\", var) == 1)) 1 else 2 } #' repopulate with the null values  # downscale the null values for variables of interest null_downscaled <- downscale_core(xyz = xyz, refmap = refmap, gcms = null, vars = c(\"MAT\", \"PAS_an\"))"},{"path":"https://bcgov.github.io/climr/reference/extract_db.html","id":null,"dir":"Reference","previous_headings":"","what":"Bilinear interpolation point extraction from raster bands — extract_db","title":"Bilinear interpolation point extraction from raster bands — extract_db","text":"Bilinear interpolation point extraction raster bands","code":""},{"path":"https://bcgov.github.io/climr/reference/extract_db.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bilinear interpolation point extraction from raster bands — extract_db","text":"","code":"extract_db(   rastertbl,   layers = data.table::data.table(var_nm = character(), laynum = integer()),   VAR = NULL,   hull = NULL )"},{"path":"https://bcgov.github.io/climr/reference/extract_db.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bilinear interpolation point extraction from raster bands — extract_db","text":"rastertbl name raster table extract . layers data.table column var_nm (names bands) VAR case rasters split across different tables. One VAR . first VAR used replacement labels names. Assuming tables structure, different VAR . hull optional hull well-known text geometry prefilter raster table merging points projected srid 4326. laynum (index number bands extract).","code":""},{"path":"https://bcgov.github.io/climr/reference/extract_db.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bilinear interpolation point extraction from raster bands — extract_db","text":"data.frame one row per point id xyz ID column + one columns bands rastertbl name nm.","code":""},{"path":"https://bcgov.github.io/climr/reference/gcms-input-data.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve global climate model anomalies for downscale_core. — input_gcms","title":"Retrieve global climate model anomalies for downscale_core. — input_gcms","text":"input_gcms retrieves anomalies 20-year periods selected GCMs, SSPs, periods runs. input_gcm_hist creates GCM time series inputs historical scenario (1850-2014), given chosen GCMs, years runs. input_gcm_ssp creates future GCM time series inputs, given chosen GCMs, SSPs, years runs.","code":""},{"path":"https://bcgov.github.io/climr/reference/gcms-input-data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve global climate model anomalies for downscale_core. — input_gcms","text":"","code":"input_gcms(   bbox = NULL,   gcms = list_gcms(),   ssps = list_ssps(),   period = list_gcm_periods(),   max_run = 0L,   ensemble_mean = TRUE,   cache = TRUE,   run_nm = NULL )  input_gcms_db(   gcms = list_gcms(),   ssps = list_ssps(),   period = list_gcm_periods(),   max_run = 0L,   ensemble_mean = TRUE,   run_nm = NULL )  input_gcm_hist(   bbox = NULL,   gcms = list_gcms(),   years = 1901:2014,   max_run = 0L,   ensemble_mean = TRUE,   cache = TRUE,   run_nm = NULL )  input_gcm_hist_db(   gcms = list_gcms(),   years = 1901:2014,   max_run = 0L,   ensemble_mean = TRUE,   run_nm = NULL )  input_gcm_ssp(   bbox = NULL,   gcms = list_gcms(),   ssps = list_ssps(),   years = 2020:2030,   max_run = 0L,   ensemble_mean = TRUE,   cache = TRUE,   run_nm = NULL,   fast = TRUE )  input_gcm_ssp_db(   gcms = list_gcms(),   ssps = list_ssps(),   years = 2020:2030,   max_run = 0L,   ensemble_mean = TRUE,   run_nm = NULL )"},{"path":"https://bcgov.github.io/climr/reference/gcms-input-data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve global climate model anomalies for downscale_core. — input_gcms","text":"bbox numeric. Vector length 4 giving bounding box study region, order ymax,ymin,xmax,xmin. general created get_bb(), can also user-defined. gcms character. Vector labels global circulation models use. Can obtained list_gcms(). Default GCMs available. ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. period character. Vector labels periods use. Can obtained list_gcm_periods(). Defaults periods available. max_run integer. Maximum number model runs include, including ensemble mean. Runs included order found models data max_run reached. Defaults 0L. ensemble_mean Logical. Return mean individual GCM runs? ensemble_mean = TRUE max_run = 0, mean returned. return individual run exclude mean, set ensemble_mean = FALSE max_run = 1. cache logical. Specifying whether cache new data locally . Defaults TRUE. run_nm character. NULL length >= 1. Name specified run(s) return, instead using max_run. Use list_runs_*() functions list available runs.Defaults NULL. years Numeric character vector 2020:2100. Defaults 2020:2030. See list_gcm_ssp_years() available years. fast Logical. use faster method downloading data database using arrays instead Postgis rasters?","code":""},{"path":"https://bcgov.github.io/climr/reference/gcms-input-data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve global climate model anomalies for downscale_core. — input_gcms","text":"list SpatRasters, possibly multiple layers, can used downscale_core(). list SpatRasters, possibly multiple layers, can used downscale_core(). list SpatRasters, possibly multiple layers, can used downscale_core().","code":""},{"path":"https://bcgov.github.io/climr/reference/gcms-input-data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve global climate model anomalies for downscale_core. — input_gcms","text":"function returns list one slot requested GCM. Rasters inside list contain anomalies requested SSPs, runs, periods. general function used combination downscale_core(). function returns list one slot requested GCM. Rasters inside list contain anomalies runs years. general function used combination downscale_core(). function returns list one slot requested GCM. Rasters inside list contain anomalies SSPs, runs years. general function used combination downscale_core(). Note request multiple runs, multiple SSPs, lot years, take download data (lot ).","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/reference/gcms-input-data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve global climate model anomalies for downscale_core. — input_gcms","text":"","code":"library(terra) xyz <- data.frame(lon = runif(10, -140, -106), lat = runif(10, 37, 61), elev = runif(10), id = 1:10)  ## get bounding box based on input points thebb <- get_bb(xyz)   gcms <- input_gcms(thebb, list_gcms()[1], list_ssps()[1]) #> Not fully cached :( Will download more #> Downloading GCM anomalies #> . #> Caching data...  ## show ensemble means only lyrs <- grep(\"ensemble\", names(gcms$`ACCESS-ESM1-5`))  plot(gcms$`ACCESS-ESM1-5`[[lyrs]])"},{"path":"https://bcgov.github.io/climr/reference/get_bb.html","id":null,"dir":"Reference","previous_headings":"","what":"Find bounding box of data — get_bb","title":"Find bounding box of data — get_bb","text":"Find bounding box data","code":""},{"path":"https://bcgov.github.io/climr/reference/get_bb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find bounding box of data — get_bb","text":"","code":"get_bb(xyz)  # S3 method for class 'data.frame' get_bb(xyz)  # S3 method for class 'SpatRaster' get_bb(xyz)"},{"path":"https://bcgov.github.io/climr/reference/get_bb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find bounding box of data — get_bb","text":"xyz data.table (data.frame) points downscale columns \"lon\", \"lat\", \"elev\" \"id\"","code":""},{"path":"https://bcgov.github.io/climr/reference/get_bb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find bounding box of data — get_bb","text":"numeric vector. Bounding box coordinates order xmin, xmax, ymin, ymax (e.g. c(-122, -121, 50, 51)).","code":""},{"path":"https://bcgov.github.io/climr/reference/get_elev_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an elevation raster from a template raster — get_elev_raster","title":"Create an elevation raster from a template raster — get_elev_raster","text":"Create elevation raster template raster","code":""},{"path":"https://bcgov.github.io/climr/reference/get_elev_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an elevation raster from a template raster — get_elev_raster","text":"","code":"get_elev_raster(r, elev, out = NULL, ...)"},{"path":"https://bcgov.github.io/climr/reference/get_elev_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an elevation raster from a template raster — get_elev_raster","text":"r SpatRaster. template. elev elevation raster (northamerica_elevation_cec_2023.tif) http://www.cec.org/files/atlas_layers/0_reference/0_03_elevation/elevation_tif.zip file path terra::writeRaster. Default NULL. ... Additional parameters terra::writeRaster.","code":""},{"path":"https://bcgov.github.io/climr/reference/get_elev_raster.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an elevation raster from a template raster — get_elev_raster","text":"","code":"r <- terra::rast(   nrows=108, ncols=21,   xmin=5.75, xmax=6.5,   ymin = 49.5, ymax = 50,   crs = \"EPSG:4326\" ) elev <- system.file(\"ex/elev.tif\", package=\"terra\") |> terra::rast() get_elev_raster(r, elev) #> class       : SpatRaster  #> size        : 108, 21, 1  (nrow, ncol, nlyr) #> resolution  : 0.03571429, 0.00462963  (x, y) #> extent      : 5.75, 6.5, 49.5, 50  (xmin, xmax, ymin, ymax) #> coord. ref. : lon/lat WGS 84 (EPSG:4326)  #> source(s)   : memory #> name        : elev  #> min value   :  146  #> max value   :  517"},{"path":"https://bcgov.github.io/climr/reference/get_latitude_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a latitude raster — get_latitude_raster","title":"Create a latitude raster — get_latitude_raster","text":"Create latitude raster","code":""},{"path":"https://bcgov.github.io/climr/reference/get_latitude_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a latitude raster — get_latitude_raster","text":"","code":"get_latitude_raster(r, out = NULL, ...)"},{"path":"https://bcgov.github.io/climr/reference/get_latitude_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a latitude raster — get_latitude_raster","text":"r SpatRaster. file path terra::writeRaster. Default NULL. ... Additional parameters terra::writeRaster.","code":""},{"path":"https://bcgov.github.io/climr/reference/get_latitude_raster.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a latitude raster — get_latitude_raster","text":"","code":"get_latitude_raster(system.file(\"ex/elev.tif\", package=\"terra\") |> terra::rast()) #> class       : SpatRaster  #> size        : 90, 95, 1  (nrow, ncol, nlyr) #> resolution  : 0.008333333, 0.008333333  (x, y) #> extent      : 5.741667, 6.533333, 49.44167, 50.19167  (xmin, xmax, ymin, ymax) #> coord. ref. : lon/lat WGS 84 (EPSG:4326)  #> source(s)   : memory #> name        :      lat  #> min value   : 49.44583  #> max value   : 50.18750"},{"path":"https://bcgov.github.io/climr/reference/hist-input-data.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve observational anomalies. — input_obs","title":"Retrieve observational anomalies. — input_obs","text":"input_obs produces anomalies average observed climate given period, relative 1961-1990 reference period. anomalies calculated \"cru.gpcc\" dataset Climatic Research Unit TS dataset (temperature) Global Precipitation Climatology Centre dataset (precipitation). input_obs_ts produces anomalies observed climate given time series individual years.","code":""},{"path":"https://bcgov.github.io/climr/reference/hist-input-data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve observational anomalies. — input_obs","text":"","code":"input_obs(bbox = NULL, period = list_obs_periods(), cache = TRUE)  input_obs_db(period = list_obs_periods())  input_obs_ts(   dataset = c(\"mswx.blend\", \"cru.gpcc\", \"climatena\"),   bbox = NULL,   years = 2010:2022,   cache = TRUE )  input_obs_ts_db(   dataset = c(\"mswx.blend\", \"cru.gpcc\", \"climatena\"),   years = 2010:2022 )"},{"path":"https://bcgov.github.io/climr/reference/hist-input-data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve observational anomalies. — input_obs","text":"bbox numeric. Vector length 4 giving bounding box study region, order ymax,ymin,xmax,xmin. general created get_bb(), can also user-defined. period character. Vector labels periods use. Can obtained list_obs_periods(). Default \"2001_2020\". cache logical. Specifying whether cache new data locally . Defaults TRUE. dataset Character. observational dataset use? Options \"climatena\" ClimateNA gridded time series \"cru.gpcc\" combined Climatic Research Unit TS dataset (temperature) Global Precipitation Climatology Centre dataset (precipitation). years numeric. Years retrieve obs anomalies . Defaults 2010:2022. See list_obs_years() available years.","code":""},{"path":"https://bcgov.github.io/climr/reference/hist-input-data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve observational anomalies. — input_obs","text":"list SpatRasters, possibly multiple layers, can used downscale_core(). element list corresponds particular period, values SpatRaster anomalies obs period compare reference period. List length 1 containing SpatRaster","code":""},{"path":"https://bcgov.github.io/climr/reference/hist-input-data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve observational anomalies. — input_obs","text":"Generally, function used combination downscale_core() values returned rasters anomalies compared 1961-1990 reference period, usually meaningful without whole downscale process. returned raster contains anomalies year specified years. general function used conjunction downscale_core().","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/reference/input_refmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve reference period climate maps — input_refmap","title":"Retrieve reference period climate maps — input_refmap","text":"function downloads (retrieves cache) monthly Tmin, Tmax, PPT climatologies (maps long-term average climate) specified data source specified bounding box. intended use downscale_core(), can also used stand-alone raster data.","code":""},{"path":"https://bcgov.github.io/climr/reference/input_refmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve reference period climate maps — input_refmap","text":"","code":"input_refmap(   bbox,   reference = \"refmap_climr\",   cache = TRUE,   indiv_tiles = FALSE,   xyz = NULL )  input_refmap_db(reference = \"refmap_climatena\")"},{"path":"https://bcgov.github.io/climr/reference/input_refmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve reference period climate maps — input_refmap","text":"bbox numeric. Vector length 4 giving bounding box study region, order ymax,ymin,xmax,xmin. general created get_bb(), can also user-defined. reference character SpatRaster. character, label normal baseline use. Can obtained list_refmaps(). SpatRaster, 36 layers normal climate variables names PPT01:PPT12, Tmax01:Tmax12 Tmin01:Tmin12. Defaults list_refmaps()[1]. cache logical. Specifying whether cache new data locally . Defaults TRUE. indiv_tiles logical. download necessary tiles instead full bounding box? xyz terra::SpatRaster single layer containing elevation values metres, data.frame following columns \"long\", \"lat\", \"elev\", unique \"id\". extra columns ignored output.","code":""},{"path":"https://bcgov.github.io/climr/reference/input_refmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve reference period climate maps — input_refmap","text":"SpatRaster containing reference period climatologies, lapse rates digital elevation model layers, can used downscale_core().","code":""},{"path":"https://bcgov.github.io/climr/reference/input_refmap.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve reference period climate maps — input_refmap","text":"first 36 layers output raster correspond actual climate variables. raster also contains lapse rates variable, corresponding digital elevation model.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/reference/lapse_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculation of gridded lapse rates — lapse_rate","title":"Calculation of gridded lapse rates — lapse_rate","text":"function computes lapse rates (linear relationship climate variable elevation) across user-provided rasters. Lapse rates calculated using simple linear regression (without intercept) using focal cell eight neighbors observations. gridded lapse rates used downscale() downscale_core() elevation adjustment climate values downscaling user-specified locations. method illustrated vignette vignette(\"lapse_rates\")","code":""},{"path":"https://bcgov.github.io/climr/reference/lapse_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculation of gridded lapse rates — lapse_rate","text":"","code":"lapse_rate(reference, dem, NA_replace = TRUE, nthread = 1L, rasterize = TRUE)"},{"path":"https://bcgov.github.io/climr/reference/lapse_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculation of gridded lapse rates — lapse_rate","text":"reference SpatRaster stack. climate rasters compute lapse rates . Build package functions. dem SpatRaster. digital elevation model raster. needed normal SpatRaster. Defaults NULL. NA_replace logical. NA lapse rate results replaced zeros. Default TRUE. nthread integer. Number parallel threads use compute lapse rates. rasterize logical. Return object class category reference extent? Default TRUE.","code":""},{"path":"https://bcgov.github.io/climr/reference/lapse_rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculation of gridded lapse rates — lapse_rate","text":"SpatRaster lapse rate values.","code":""},{"path":"https://bcgov.github.io/climr/reference/lapse_rate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculation of gridded lapse rates — lapse_rate","text":"Formulas  beta_coef = sum(xy) / sum(x²)  mss = sum(x * beta_coef)², sum squared fitted values  rss = sum(ε²), sum squared (y minus fitted), sum absolute errors  R² = mss / (mss + rss)  Lapse rate = beta_coef * R²","code":""},{"path":"https://bcgov.github.io/climr/reference/legend_ramp.html","id":null,"dir":"Reference","previous_headings":"","what":"Legend for color ramp maps — legend_ramp","title":"Legend for color ramp maps — legend_ramp","text":"function plots map legend handles logarithmic scaling","code":""},{"path":"https://bcgov.github.io/climr/reference/legend_ramp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Legend for color ramp maps — legend_ramp","text":"","code":"legend_ramp(   r,   title,   ColScheme,   breaks,   pos = c(0.2, 0.23, 0.1, 0.5),   log = NULL,   log.relative = FALSE,   horizontal = FALSE,   title.height = 1 )"},{"path":"https://bcgov.github.io/climr/reference/legend_ramp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Legend for color ramp maps — legend_ramp","text":"r spatial raster object, typically terra package. title Character. title legend. ColScheme Character vector. Specifies colors used legend. Typically corresponds color scheme applied raster data visualization. breaks Numeric vector. Defines breakpoints legend, determining range raster divided intervals corresponding colors ColScheme. pos Numeric vector length 4. Defines position legend proportions raster extent. format c(xmin, xmax, ymin, ymax). log Numeric NULL. base logarithm used compute legend labels. NULL, values displayed -. log.relative logical. TRUE, legend labels represent percent difference. horizontal Logical. legend drawn horizontally? Default FALSE. title.height Numeric. Scaling factor height legend title relative legend size.","code":""},{"path":"https://bcgov.github.io/climr/reference/legend_ramp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Legend for color ramp maps — legend_ramp","text":"NULL. plot legend drawn current plotting device. function return value.","code":""},{"path":"https://bcgov.github.io/climr/reference/legend_ramp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Legend for color ramp maps — legend_ramp","text":"function uses extent raster object determine positioning size legend. legend can oriented either horizontally vertically, logarithmic scaling applied labels log parameter specified.","code":""},{"path":"https://bcgov.github.io/climr/reference/legend_ramp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Legend for color ramp maps — legend_ramp","text":"","code":"## get the sample digital elevation model (dem) provided with `climr` dem <- get(data(\"dem_vancouver\")) |> terra::unwrap() ## A simple climr query. ## This will return the observed 1961-1990 normals for the raster grid points. var <- \"MAP\" clim <- downscale(dem, which_refmap = \"refmap_climr\", vars = var) #> Welcome to climr! #> Not fully cached :( Will download more #> Downloading new data from refmap_climr... #> . #> Caching data... #> Downscaling... #> Climate vars... #> Appending... [MAP] ## log-transform precipitation for more meaningful scaling clim <- log2(clim) ## increment for the ramp inc=diff(range(terra::values(clim)))/500 ## color breaks breaks=seq(min(terra::values(clim))-inc, max(terra::values(clim))+inc, inc) ## color scheme ColScheme <- rev(hcl.colors(length(breaks)-1, \"GnBu\")) terra::plot(clim, col=ColScheme, breaks=breaks, legend=FALSE, main=\"\", mar=NA) legend_ramp(   clim,   title = paste(var, \"(mm)\"),   ColScheme = ColScheme,   breaks = breaks,   pos=c(0.05, 0.45, 0.1, 0.125),   log = 2,   horizontal = TRUE )"},{"path":"https://bcgov.github.io/climr/reference/logVars.html","id":null,"dir":"Reference","previous_headings":"","what":"Log-transform climate variables — logVars","title":"Log-transform climate variables — logVars","text":"function performs logarithmic transformation climr output user-specified base. function currently works climr output data.table format (.e., raster output).","code":""},{"path":"https://bcgov.github.io/climr/reference/logVars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Log-transform climate variables — logVars","text":"","code":"logVars(   dat,   elements = c(\"AHM\", \"DD\", \"Eref\", \"FFP\", \"NFFD\", \"PAS\", \"PPT\", \"SHM\", \"CMD\"),   base = exp(1),   add.fields = FALSE,   zero_adjust = TRUE )"},{"path":"https://bcgov.github.io/climr/reference/logVars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Log-transform climate variables — logVars","text":"dat data.table columns climate variables including selected climate elements. elements character. Climate elements log-transform. base numeric. Logarithmic base. add.fields logical. TRUE, new logged variables added dat (TRUE). Otherwise, original column values replaced logs (FALSE). zero_adjust logical. TRUE adjusts zeroes raw data : \\(base^{\\log_base{x_min} - 1}\\). \\(x_min\\) minimum non-zero, non-NA value.","code":""},{"path":"https://bcgov.github.io/climr/reference/logVars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Log-transform climate variables — logVars","text":"data.table","code":""},{"path":"https://bcgov.github.io/climr/reference/logVars.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Log-transform climate variables — logVars","text":"climate analysis often preferable log-transform ratio variables, .e., variables precipitation degree-days lower limit zero proportions meaningful. Climate elements include related time variables, hence column names partially match strings elements log-transformed. example, specifying elements = \"PPT\" #'   result log-transformation c(\"PPT\", \"PPT_01\", \"PPT_02\", ... , \"PPT_at\"). default, zeroes assigned log value one order magnitude less minimum positive value untransformed variable.","code":""},{"path":"https://bcgov.github.io/climr/reference/name_changes.html","id":null,"dir":"Reference","previous_headings":"","what":"Changes to naming conventions applied in Version 0.1.0 — name_changes","title":"Changes to naming conventions applied in Version 0.1.0 — name_changes","text":"table correspondence old new names functions, parameters, options. changes climate variable names, see data(variables).","code":""},{"path":"https://bcgov.github.io/climr/reference/name_changes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Changes to naming conventions applied in Version 0.1.0 — name_changes","text":"","code":"name_changes"},{"path":"https://bcgov.github.io/climr/reference/name_changes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Changes to naming conventions applied in Version 0.1.0 — name_changes","text":"data.table columns: type type object renamed function function whose contents renamed, applicable name_old old name, pre-v0.1.0 name_new new name, v0.1.0","code":""},{"path":"https://bcgov.github.io/climr/reference/pgGetTerra.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raster with bounding box from PostGIS (original) — pgGetTerra","title":"Download raster with bounding box from PostGIS (original) — pgGetTerra","text":"Download raster bounding box PostGIS (original)","code":""},{"path":"https://bcgov.github.io/climr/reference/pgGetTerra.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raster with bounding box from PostGIS (original) — pgGetTerra","text":"","code":"pgGetTerra(name, tile, rast = \"rast\", bands = 1:73, boundary)"},{"path":"https://bcgov.github.io/climr/reference/pgGetTerra.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raster with bounding box from PostGIS (original) — pgGetTerra","text":"name character. Table name database. tile Logical. Retrieve data tiles avoid overloading database? rast character. Name column stores raster data. Defaults \"rast\" bands numeric. raster bands return. Default 37:73. boundary numeric. Vector length 4 (ymax,ymin,xmax,xmin). Defaults NULL.","code":""},{"path":"https://bcgov.github.io/climr/reference/pgGetTerra.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raster with bounding box from PostGIS (original) — pgGetTerra","text":"SpatRaster","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Walter-Lieth climate diagram — plot_WalterLieth","title":"Create a Walter-Lieth climate diagram — plot_WalterLieth","text":"function creates Walter-Lieth climate diagram, summarizes mean monthly temperature precipitation visualize seasonal climate patterns. supports classical version using monthly average temperature enhanced version using monthly mean daily minimum (Tmin) maximum (tmax) temperatures.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Walter-Lieth climate diagram — plot_WalterLieth","text":"","code":"plot_WalterLieth(   X,   diurnal = FALSE,   obs_period = NULL,   gcm = NULL,   ssp = NULL,   gcm_period = NULL,   location = NULL,   app = FALSE )"},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Walter-Lieth climate diagram — plot_WalterLieth","text":"X data.table object produced using function plot_bivariate_input(). table can include models, scenarios, variables used individual calls plot_bivariate(). diurnal Logical. TRUE, range Tmin Tmax shown, representing diurnal range month. obs_period Character (optional). One observation periods (e.g., \"1961_1990\"). gcm Character (optional). specific global climate model (GCM). unspecified, mean global climate models shown specified ssp gcm_period. ssp Character (optional). Shared Socioeconomic Pathway scenario (SSP), required gcm_period specified. gcm_period Character (optional). GCM simulation period (e.g., \"2041_2060\"), used ensemble means GCM-specific plots. Required gcm_period specified. location Character (optional). Include location plot title. app Logical. TRUE, increase font size.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Walter-Lieth climate diagram — plot_WalterLieth","text":"ggplot2 object showing Walter-Lieth climate diagram.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a Walter-Lieth climate diagram — plot_WalterLieth","text":"diagram uses following conventions: Temperature: red line showing mean monthly temperature. tmin tmax supplied, define red ribbon showing temperature range. Precipitation: blue line showing monthly precipitation, scaled 2 mm per °C. months >100 mm, scale changes 20 mm per °C avoid diagram distortion. Humid periods: blue shading precipitation exceeds temperature (P > T). Dry periods: red shading temperature exceeds precipitation (T > P). Wet periods: dark grey shading precipitation > 100 mm. Freezing months: marked blue polygon along x-axis temperature < 0°C. plot helps identify wet/dry seasons, frost months, temperature-precipitation balance. Walter-Lieth diagram introduced Heinrich Walter Helmut Lieth 1960s provide compact visual representation climate normals. particularly valuable ecology biogeography characterizing climate zones inferring environmental conditions suitable vegetation types agricultural use. Interpretation tips: Shaded blue areas indicate months water supply exceeds potential evapotranspiration, often conducive plant growth. Shaded red areas suggest moisture stress periods. Shaded black areas denote wet months, may correspond tropical monsoon seasons strong winter rains. Polygon blocks baseline signal freezing months potential frost periods.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Walter-Lieth climate diagram — plot_WalterLieth","text":"","code":"if (FALSE) { # \\dontrun{ in_xyz <- data.frame(lon = -120.3273, lat = 50.6745, elev = 384, id = 1) # Kamloops, BC  # Obtain the input data for the plot my_data <- plot_WalterLieth_input(in_xyz,                                 obs_period = list_obs_periods()[1],                                gcms = list_gcms()[c(1, 4, 5, 6, 7, 10, 11, 12)],                                ssps = list_ssps()[2],                                gcm_periods = list_gcm_periods()                                )  # Plot 1961-1990 climate normals plot_WalterLieth(my_data)   # include the monthly diurnal range plot_WalterLieth(my_data, diurnal = TRUE)   # Plot 2001-2020 period climate normals plot_WalterLieth(my_data, obs_period = list_obs_periods()[1])  # Plot a single GCM projection plot_WalterLieth(my_data, gcm = \"ACCESS-ESM1-5\", ssp = \"ssp245\", gcm_period = \"2041_2060\")  # Plot ensemble mean projection for an SSP and period plot_WalterLieth(my_data, ssp = \"ssp245\", gcm_period = \"2041_2060\") } # }"},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth_input.html","id":null,"dir":"Reference","previous_headings":"","what":"Input data for the Walter-Lieth climate diagram — plot_WalterLieth_input","title":"Input data for the Walter-Lieth climate diagram — plot_WalterLieth_input","text":"Input data plot_WalterLieth() function. Since inputs time-consuming generate, purpose conducting generation input table separate function allow users make multiple calls plot_WalterLieth() (e.g., comparing different time periods) without needing generate inputs time.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth_input.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Input data for the Walter-Lieth climate diagram — plot_WalterLieth_input","text":"","code":"plot_WalterLieth_input(   xyz,   obs_period = NULL,   gcms = NULL,   ssps = NULL,   gcm_periods = NULL,   db_option = \"auto\" )"},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth_input.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Input data for the Walter-Lieth climate diagram — plot_WalterLieth_input","text":"xyz terra::SpatRaster single layer containing elevation values metres, data.frame following columns \"long\", \"lat\", \"elev\", unique \"id\". extra columns ignored output. gcms character. Vector global climate model names. Options list_gcms(). ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. gcm_periods character. 20-year reference periods GCM simulations. Options list_gcm_periods(). db_option character. One auto, database, local. Default auto. vars character. vector climate variables compute. Supported variables can obtained list_vars(). Definitions can found package variables dataset. Default monthly PPT, Tmax, Tmin.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth_input.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Input data for the Walter-Lieth climate diagram — plot_WalterLieth_input","text":"data.table average downscaled climate variables locations.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth_input.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Input data for the Walter-Lieth climate diagram — plot_WalterLieth_input","text":"function generates standardized inputs one multiple locations spatial scale.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_WalterLieth_input.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Input data for the Walter-Lieth climate diagram — plot_WalterLieth_input","text":"","code":"if (FALSE) {   # data frame of arbitrary points   my_points <- data.frame(     lon = c(-127.7300, -127.7500),     lat = c(55.34114, 55.25),     elev = c(711, 500),     id = 1:2   )    # generate the input data   my_data <- plot_WalterLieth_input(my_points, db_option = \"local\")    # use the input to create a plot   plot_WalterLieth(my_data) } #'"},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate.html","id":null,"dir":"Reference","previous_headings":"","what":"Bivariate climate change plots — plot_bivariate","title":"Bivariate climate change plots — plot_bivariate","text":"Bivariate plots 21st century climate change user-selected locations climate variables. purposes plot : show differences climate change trends among global climate models (GCMs); show differences multiple simulations model; compare simulated climate change observed climate change 2001-2020 period. climate changes relative 1961-1990 reference period normals.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bivariate climate change plots — plot_bivariate","text":"","code":"plot_bivariate(   X,   xvar = \"Tave_sm\",   yvar = \"PPT_sm\",   period_focal = list_gcm_periods()[1],   gcms = list_gcms()[c(1, 4, 5, 6, 7, 10, 11, 12)],   ssp = list_ssps()[2],   obs_period = list_obs_periods()[1],   gcm_periods = list_gcm_periods(),   max_run = 10,   legend_pos = \"bottomleft\",   show_runs = TRUE,   show_ensMean = TRUE,   show_observed = TRUE,   show_trajectories = TRUE,   interactive = FALSE,   cache = TRUE )"},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bivariate climate change plots — plot_bivariate","text":"X data.table object produced using function plot_bivariate_input(). table can include models, scenarios, variables used individual calls plot_bivariate(). xvar character. x-axis variable. options list_vars(). yvar character. y-axis variable. options list_vars(). period_focal character. 20-year period plot ensemble detail. options list_gcm_periods(). gcms character. Vector global climate model names. Options list_gcms(). ssp character. single SSP-RCP scenario (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults SSP2-4.5. obs_period character. single 20-year period observed climate data. Options list_obs_periods(). gcm_periods character. 20-year reference periods GCM simulations. Options list_gcm_periods(). max_run integer. Maximum number model runs include, including ensemble mean. Runs included order found models data max_run reached. Defaults 0L. legend_pos character. Position legend. Options c(\"bottomright\", \"bottom\", \"bottomleft\", \"left\", \"topleft\", \"top\", \"topright\", \"right\", \"center\"). show_runs logical. TRUE, individual runs model plotted (period_focal ) addition single-model ensemble mean. show_ensMean logical. TRUE, multi-model ensemble mean plotted (period_focal ). show_observed logical. TRUE, 2001-2020 observed climate plotted. show_trajectories logical. TRUE, values single-model ensemble mean plotted 20-year periods list_gcm_periods(), connected interpolation spline. interactive logical. TRUE, interactive plot generated using {plotly}. FALSE, plot generated using base graphics. cache logical. Cache data locally? Default TRUE","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bivariate climate change plots — plot_bivariate","text":"NULL. Draws plot active graphics device.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Bivariate climate change plots — plot_bivariate","text":"input table X provides climate data single location average multiple locations. purpose conducting generation input table separate function allow users make multiple calls plot_bivariate() without needing generate inputs time. climate change trajectories provided show_trajectories points five 20-year periods specified list_gcm_periods(). points connected interpolation spline x variable monotonic; otherwise trajectory points connected straight lines. plot designed used single SSP scenario. multiple scenarios passed plot, GCM means ensemble mean averaged across scenarios, individual runs scenarios plotted separately.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bivariate climate change plots — plot_bivariate","text":"","code":"# data frame of arbitrary points on Vancouver Island my_points <- data.table(   lon = c(-123.4404, -123.5064, -124.2317),   lat = c(48.52631, 48.46807, 49.21999),   elev = c(52, 103, 357),   id = seq_len(3) ) #> Error in data.table(lon = c(-123.4404, -123.5064, -124.2317), lat = c(48.52631,     48.46807, 49.21999), elev = c(52, 103, 357), id = seq_len(3)): could not find function \"data.table\"  # draw the plot my_data <- plot_bivariate_input(my_points) #> Welcome to climr! #> Error: object 'my_points' not found  # draw the plot plot_bivariate(my_data) #> Error: object 'my_data' not found  # draw an interactive (plotly) plot plot_bivariate(my_data, xvar=\"MAT\", yvar=\"PAS_an\", interactive = TRUE) #> Error: object 'my_data' not found  # export plot to a temporary directory figDir <- tempdir() png(   filename = file.path(figDir, \"plot_test.png\"), type = \"cairo\", units = \"in\",   width = 6, height = 5, pointsize = 10, res = 300 ) plot_bivariate(my_data) #> Error: object 'my_data' not found dev.off() #> agg_record_1533633155  #>                     2"},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate_input.html","id":null,"dir":"Reference","previous_headings":"","what":"Input data for the bivariate climate change plot — plot_bivariate_input","title":"Input data for the bivariate climate change plot — plot_bivariate_input","text":"Input data plot_bivariate() function. Since inputs time-consuming generate, purpose conducting generation input table separate function allow users make multiple calls plot_bivariate() (e.g., comparing different climate variables) without needing generate inputs time.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate_input.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Input data for the bivariate climate change plot — plot_bivariate_input","text":"","code":"plot_bivariate_input(   xyz,   obs_period = list_obs_periods()[1],   gcms = list_gcms()[c(1, 4, 5, 6, 7, 10, 11, 12)],   ssps = list_ssps()[2],   gcm_periods = list_gcm_periods(),   max_run = 10,   vars = list_vars(),   db_option = \"auto\" )"},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate_input.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Input data for the bivariate climate change plot — plot_bivariate_input","text":"xyz terra::SpatRaster single layer containing elevation values metres, data.frame following columns \"long\", \"lat\", \"elev\", unique \"id\". extra columns ignored output. gcms character. Vector global climate model names. Options list_gcms(). ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. gcm_periods character. 20-year reference periods GCM simulations. Options list_gcm_periods(). max_run integer. Maximum number model runs include, including ensemble mean. Runs included order found models data max_run reached. Defaults 0L. vars character. vector climate variables compute. Supported variables can obtained list_vars(). Definitions can found package variables dataset. Default monthly PPT, Tmax, Tmin. db_option character. One auto, database, local. Default auto.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate_input.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Input data for the bivariate climate change plot — plot_bivariate_input","text":"data.table downscaled climate variables locations.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate_input.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Input data for the bivariate climate change plot — plot_bivariate_input","text":"function generates standardized inputs one multiple locations spatial scale.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_bivariate_input.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Input data for the bivariate climate change plot — plot_bivariate_input","text":"","code":"if (FALSE) {   # data frame of arbitrary points   my_points <- data.frame(     lon = c(-127.7300, -127.7500),     lat = c(55.34114, 55.25),     elev = c(711, 500),     id = 1:2   )    # generate the input data   my_data <- plot_bivariate_input(my_points)    # use the input to create a plot   plot_bivariate(my_data, xvar = \"MAT\", yvar = \"PAS_an\") } #'"},{"path":"https://bcgov.github.io/climr/reference/plot_ensemble.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for plotting time series for gcms or compiled ensemble — plot_ensemble","title":"Function for plotting time series for gcms or compiled ensemble — plot_ensemble","text":"Function plotting time series gcms compiled ensemble","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_ensemble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for plotting time series for gcms or compiled ensemble — plot_ensemble","text":"","code":"plot_ensemble(   x,   var,   scenarios.selected,   scenarios,   showrange = TRUE,   simplify = TRUE,   gcm = NULL,   pal,   pal.scenario,   pal.gcms,   refline = FALSE,   showmean = TRUE,   endlabel = \"change\",   element,   compile = TRUE,   var2 = NULL,   element1,   element2,   yeartime.names,   yeartimes,   yeartime )"},{"path":"https://bcgov.github.io/climr/reference/plot_ensemble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for plotting time series for gcms or compiled ensemble — plot_ensemble","text":"x climate data var TODO scenarios.selected TODO scenarios TODO showrange logical. Plot shaded region indicating minimum maximum selected ensemble GCM simulations selected scenario. simplify logical. Simplify ensemble range mean using smoothing spline. gcm TODO pal character. color palette. Options \"scenario\", use comparing scenarios, \"gcms\", use comparing GCMs. pal.scenario TODO pal.gcms TODO refline logical. Plot 1961-1990 reference period mean selected var extend line year 2100 visual reference. showmean logical. Plot ensemble mean time series. Multi-model ensemble means calculated mean simulations model. endlabel character. Add label end simulated time series. Options \"change\", indicate change year 2100 relative 1961-1990 baseline, \"gcms\" indicate global climate model. element TODO compile logical. Compile multiple global climate models multi-model ensemble. FALSE single-model ensembles plotted individually. var2 character. second climate var plot combination var1. options list_vars(). element1 TODO element2 TODO yeartime.names TODO yeartimes TODO yeartime TODO","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_preprocess_ensemble.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for plotting time series for gcms or compiled ensemble — plot_preprocess_ensemble","title":"Function for plotting time series for gcms or compiled ensemble — plot_preprocess_ensemble","text":"Function plotting time series gcms compiled ensemble","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_preprocess_ensemble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for plotting time series for gcms or compiled ensemble — plot_preprocess_ensemble","text":"","code":"plot_preprocess_ensemble(   x,   var,   scenarios.selected,   scenarios,   showrange = TRUE,   simplify = TRUE,   gcm = NULL,   pal,   pal.scenario,   pal.gcms,   refline = FALSE,   showmean = TRUE,   endlabel = \"change\",   element,   compile = TRUE,   var2 = NULL,   element1,   element2,   yeartime.names,   yeartimes,   yeartime )"},{"path":"https://bcgov.github.io/climr/reference/plot_preprocess_ensemble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for plotting time series for gcms or compiled ensemble — plot_preprocess_ensemble","text":"x climate data var TODO scenarios.selected TODO scenarios TODO showrange logical. Plot shaded region indicating minimum maximum selected ensemble GCM simulations selected scenario. simplify logical. Simplify ensemble range mean using smoothing spline. gcm TODO pal character. color palette. Options \"scenario\", use comparing scenarios, \"gcms\", use comparing GCMs. pal.scenario TODO pal.gcms TODO refline logical. Plot 1961-1990 reference period mean selected var extend line year 2100 visual reference. showmean logical. Plot ensemble mean time series. Multi-model ensemble means calculated mean simulations model. endlabel character. Add label end simulated time series. Options \"change\", indicate change year 2100 relative 1961-1990 baseline, \"gcms\" indicate global climate model. element TODO compile logical. Compile multiple global climate models multi-model ensemble. FALSE single-model ensembles plotted individually. var2 character. second climate var plot combination var1. options list_vars(). element1 TODO element2 TODO yeartime.names TODO yeartimes TODO yeartime TODO","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries.html","id":null,"dir":"Reference","previous_headings":"","what":"Time series plots of climate change — plot_timeSeries","title":"Time series plots of climate change — plot_timeSeries","text":"Time series plots 20th 21st century climate change user-selected locations climate variables. purposes plot : view differences interannual variability climate change trends among global climate models (GCMs), view differences multiple simulations model, compare simulated observed climate change 1901 present, compare time series two different variables. global climate model anomalies bias-corrected 1961-1990 reference period normals.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Time series plots of climate change — plot_timeSeries","text":"","code":"plot_timeSeries(   X,   var1 = \"Tmin_sm\",   var2 = NULL,   showObserved = TRUE,   obs_ts_dataset = \"mswx.blend\",   gcms = list_gcms()[c(1, 4, 5, 6, 7, 10, 11, 12)],   ssps = list_ssps()[1:3],   showrange = TRUE,   yfit = TRUE,   cex = 1,   mar = c(3, 3, 0.1, 4),   showmean = TRUE,   compile = TRUE,   simplify = TRUE,   refline = FALSE,   refline.obs = TRUE,   pal = \"scenario\",   label.endyear = FALSE,   endlabel = \"change\",   yearmarkers = TRUE,   yearlines = FALSE,   legend_pos = \"topleft\",   app = FALSE )"},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Time series plots of climate change — plot_timeSeries","text":"X data.table object produced using function plot_timeSeries_input(). table can include models, scenarios, variables used individual calls plot_timeSeries(). var1 character. climate var. options list_vars(). var2 character. second climate var plot combination var1. options list_vars(). showObserved logical. Plot time series observed climate. obs_ts_dataset character. dataset use observational time series data. Options \"climatena\" ClimateNA gridded time series \"cru.gpcc\" combined Climatic Research Unit TS dataset (temperature) Global Precipitation Climatology Centre dataset (precipitation). gcms character. Vector global climate model names. Options list_gcms(). ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. showrange logical. Plot shaded region indicating minimum maximum selected ensemble GCM simulations selected scenario. yfit logical. Set range y axis range visible data. FALSE y axis range values var1 (var2 applicable) input table defined X. cex Numeric. magnification factor text size. Default 1. mar numerical vector length 4, giving margin sizes number lines text: c(bottom, left, top, right). default c(3,3,0.1,4). showmean logical. Plot ensemble mean time series. Multi-model ensemble means calculated mean simulations model. compile logical. Compile multiple global climate models multi-model ensemble. FALSE single-model ensembles plotted individually. simplify logical. Simplify ensemble range mean using smoothing spline. refline logical. Plot 1961-1990 reference period mean selected var extend line year 2100 visual reference. refline.obs logical. Plot 1961-1990 reference period mean observational data. reference line GCM time series. pal character. color palette. Options \"scenario\", use comparing scenarios, \"gcms\", use comparing GCMs. label.endyear logical. Add label final year observational time series. endlabel character. Add label end simulated time series. Options \"change\", indicate change year 2100 relative 1961-1990 baseline, \"gcms\" indicate global climate model. yearmarkers logical. Add white points observational time series visual aid. yearlines logical. Add vertical lines every fifth year visual reference legend_pos character. Position legend. Viable options c(\"bottomright\", \"bottomleft\", \"topleft\", \"topright\").","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Time series plots of climate change — plot_timeSeries","text":"NULL. Draws plot active graphics device.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Time series plots of climate change — plot_timeSeries","text":"input table X provides climate data single location average multiple locations. purpose conducting generation input table separate function allow users make multiple calls plot_timeSeries() without needing generate inputs time. combinations var1 var2 compatible meaningful. Examples meaningful combinations winter vs summer values climate var minimum vs. maximum temperatures. Downloads GCM time series take time. plot_timeSeries_input() function can take ~5 minutes run first time called location. time series cached, need downloaded .","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Time series plots of climate change — plot_timeSeries","text":"","code":"if (FALSE) {   # data frame of arbitrary points   my_points <- data.frame(     lon = c(-127.7300, -127.7500),     lat = c(55.34114, 55.25),     elev = c(711, 500),     id = 1:2   )    # generate the input data   my_data <- plot_timeSeries_input(my_points)    # use the input to create a plot   plot_timeSeries(my_data, var1 = \"Tmin_sm\")    # compare observational time series   plot_timeSeries(my_data, var1 = \"Tmin_sm\", obs_ts_dataset = c(\"cru.gpcc\", \"climatena\"))    # compare mean daily minimum and maximum temperatures   plot_timeSeries(my_data, var1 = \"Tmin_sm\", var2 = \"Tmax_sm\")    # compare summer and winter temperatures (without simplifying the ensemble range)   plot_timeSeries(my_data, var1 = \"Tmax_sm\", var2 = \"Tmax_wt\", simplify = FALSE)    # compare global climate models   plot_timeSeries(     my_data,     gcms = list_gcms()[c(7, 13)],     pal = \"gcms\",     ssps = list_ssps()[2],     showmean = FALSE,     compile = FALSE,     simplify = FALSE,     endlabel = \"gcms\",     mar = c(3, 3, 0.1, 6),     showObserved = FALSE   )    # export plot to a temporary directory, including a title   figDir <- tempdir()   png(     filename = file.path(figDir, \"plot_test.png\"), type = \"cairo\", units = \"in\",     width = 6, height = 5, pointsize = 10, res = 300   )   plot_timeSeries(my_data, var1 = \"Tmin_sm\", mar = c(3, 3, 2, 4))   title(\"Historical and projected summer night-time warming in the Bulkley Valley, BC\")   dev.off() }"},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input.html","id":null,"dir":"Reference","previous_headings":"","what":"Input data for the time series climate change plot — plot_timeSeries_input","title":"Input data for the time series climate change plot — plot_timeSeries_input","text":"Input data plot_timeSeries() function. Since inputs time-consuming generate, purpose conducting generation input table separate function allow users make multiple calls plot_timeSeries() (e.g., comparing different climate variables) without needing generate inputs time.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Input data for the time series climate change plot — plot_timeSeries_input","text":"","code":"plot_timeSeries_input(   xyz,   gcms = list_gcms()[c(1, 4, 5, 6, 7, 10, 11, 12)],   ssps = list_ssps()[1:3],   max_run = 10,   obs_ts_dataset = c(\"mswx.blend\", \"cru.gpcc\", \"climatena\"),   obs_years = list_obs_years(),   gcm_hist_years = list_gcm_hist_years(),   gcm_ssp_years = list_gcm_ssp_years(),   vars = list_vars(),   db_option = \"database\" )"},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Input data for the time series climate change plot — plot_timeSeries_input","text":"xyz terra::SpatRaster single layer containing elevation values metres, data.frame following columns \"long\", \"lat\", \"elev\", unique \"id\". extra columns ignored output. gcms character. Vector global climate model names. Options list_gcms(). ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. max_run integer. Maximum number model runs include, including ensemble mean. Runs included order found models data max_run reached. Defaults 0L. obs_ts_dataset character. dataset use observational time series data. Options \"climatena\" ClimateNA gridded time series \"cru.gpcc\" combined Climatic Research Unit TS dataset (temperature) Global Precipitation Climatology Centre dataset (precipitation). obs_years integer. Vector years obtain individual years time series observational climate data. See list_obs_years() available years. gcm_hist_years character.  Timeseries years GCM simulations historical scenario. See list_gcm_hist_years() available years. gcm_ssp_years character. Timeseries years GCM simulations future scenarios specified ssps. See list_gcm_ssp_years() available years. vars character. vector climate variables compute. Supported variables can obtained list_vars(). Definitions can found package variables dataset. Default monthly PPT, Tmax, Tmin. db_option character. One auto, database, local. Default auto.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Input data for the time series climate change plot — plot_timeSeries_input","text":"data.table average downscaled climate variables locations.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Input data for the time series climate change plot — plot_timeSeries_input","text":"function generates standardized inputs one multiple locations spatial scale. multiple locations specified, output average climate variables locations. Downloads GCM time series take time. plot_timeSeries_input() function can take ~5 minutes run first time called location. time series cached, need downloaded .","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Input data for the time series climate change plot — plot_timeSeries_input","text":"","code":"if (FALSE) {   # data frame of arbitrary points   my_points <- data.frame(     lon = c(-127.7300, -127.7500),     lat = c(55.34114, 55.25),     elev = c(711, 500),     id = 1:2   )    # generate the input data   my_data <- plot_timeSeries_input(my_points)    # use the input to create a plot   plot_timeSeries(my_data, var1 = \"Tmin_sm\") } #'"},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input_preprocess.html","id":null,"dir":"Reference","previous_headings":"","what":"Time series plots of climate change — plot_timeSeries_input_preprocess","title":"Time series plots of climate change — plot_timeSeries_input_preprocess","text":"Time series plots 20th 21st century climate change user-selected locations climate variables. purposes plot : view differences interannual variability climate change trends among global climate models (GCMs), view differences multiple simulations model, compare simulated observed climate change 1901 present, compare time series two different variables. global climate model anomalies bias-corrected 1961-1990 reference period normals.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input_preprocess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Time series plots of climate change — plot_timeSeries_input_preprocess","text":"","code":"plot_timeSeries_input_preprocess(   X,   var1 = \"Tmin_sm\",   var2 = NULL,   showObserved = TRUE,   obs_ts_dataset = \"mswx.blend\",   gcms = list_gcms()[c(1, 4, 5, 6, 7, 10, 11, 12)],   ssps = list_ssps()[1:3],   showrange = TRUE,   yfit = TRUE,   cex = 1,   mar = c(3, 3, 0.1, 4),   showmean = TRUE,   compile = TRUE,   simplify = TRUE,   refline = FALSE,   refline.obs = TRUE )"},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input_preprocess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Time series plots of climate change — plot_timeSeries_input_preprocess","text":"X data.table. var1 character. climate var. options list_vars(). var2 character. second climate var plot combination var1. options list_vars(). showObserved logical. Plot time series observed climate. obs_ts_dataset character. dataset use observational time series data. Options \"climatena\" ClimateNA gridded time series \"cru.gpcc\" combined Climatic Research Unit TS dataset (temperature) Global Precipitation Climatology Centre dataset (precipitation). gcms character. Vector global climate model names. Options list_gcms(). ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. showrange logical. Plot shaded region indicating minimum maximum selected ensemble GCM simulations selected scenario. yfit logical. Set range y axis range visible data. FALSE y axis range values var1 (var2 applicable) input table defined X. cex Numeric. magnification factor text size. Default 1. mar numerical vector length 4, giving margin sizes number lines text: c(bottom, left, top, right). default c(3,3,0.1,4). showmean logical. Plot ensemble mean time series. Multi-model ensemble means calculated mean simulations model. compile logical. Compile multiple global climate models multi-model ensemble. FALSE single-model ensembles plotted individually. simplify logical. Simplify ensemble range mean using smoothing spline. refline logical. Plot 1961-1990 reference period mean selected var extend line year 2100 visual reference. refline.obs logical. Plot 1961-1990 reference period mean observational data. reference line GCM time series..","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input_preprocess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Time series plots of climate change — plot_timeSeries_input_preprocess","text":"NULL.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_input_preprocess.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Time series plots of climate change — plot_timeSeries_input_preprocess","text":"input table X provides climate data single location average multiple locations. purpose conducting generation input table separate function allow users make multiple calls plot_timeSeries() without needing generate inputs time. combinations var1 var2 compatible meaningful. Examples meaningful combinations winter vs summer values climate var minimum vs. maximum temperatures. Downloads GCM time series take time. plot_timeSeries_input() function can take ~5 minutes run first time called location. time series cached, need downloaded .","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_preprocess.html","id":null,"dir":"Reference","previous_headings":"","what":"Time series plots of climate change — plot_timeSeries_preprocess","title":"Time series plots of climate change — plot_timeSeries_preprocess","text":"Time series plots 20th 21st century climate change user-selected locations climate variables. purposes plot : view differences interannual variability climate change trends among global climate models (GCMs), view differences multiple simulations model, compare simulated observed climate change 1901 present, compare time series two different variables. global climate model anomalies bias-corrected 1961-1990 reference period normals.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_preprocess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Time series plots of climate change — plot_timeSeries_preprocess","text":"","code":"plot_timeSeries_preprocess(   X,   var1 = \"Tmin_sm\",   var2 = NULL,   showObserved = TRUE,   obs_ts_dataset = \"mswx.blend\",   gcms = list_gcms()[c(1, 4, 5, 6, 7, 10, 11, 12)],   ssps = list_ssps()[1:3],   showrange = TRUE,   yfit = TRUE,   cex = 1,   mar = c(3, 3, 0.1, 4),   showmean = TRUE,   compile = TRUE,   simplify = TRUE,   refline = FALSE,   refline.obs = TRUE,   pal = \"scenario\",   label.endyear = FALSE,   endlabel = \"change\",   yearmarkers = TRUE,   yearlines = FALSE,   legend_pos = \"topleft\",   app = FALSE )"},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_preprocess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Time series plots of climate change — plot_timeSeries_preprocess","text":"X data.table object produced using function plot_timeSeries_input_preprocess(). var1 character. climate var. options list_vars(). var2 character. second climate var plot combination var1. options list_vars(). showObserved logical. Plot time series observed climate. obs_ts_dataset character. dataset use observational time series data. Options \"climatena\" ClimateNA gridded time series \"cru.gpcc\" combined Climatic Research Unit TS dataset (temperature) Global Precipitation Climatology Centre dataset (precipitation). gcms character. Vector global climate model names. Options list_gcms(). ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. showrange logical. Plot shaded region indicating minimum maximum selected ensemble GCM simulations selected scenario. yfit logical. Set range y axis range visible data. FALSE y axis range values var1 (var2 applicable) input table defined X. cex Numeric. magnification factor text size. Default 1. mar numerical vector length 4, giving margin sizes number lines text: c(bottom, left, top, right). default c(3,3,0.1,4). showmean logical. Plot ensemble mean time series. Multi-model ensemble means calculated mean simulations model. compile logical. Compile multiple global climate models multi-model ensemble. FALSE single-model ensembles plotted individually. simplify logical. Simplify ensemble range mean using smoothing spline. refline logical. Plot 1961-1990 reference period mean selected var extend line year 2100 visual reference. refline.obs logical. Plot 1961-1990 reference period mean observational data. reference line GCM time series. pal character. color palette. Options \"scenario\", use comparing scenarios, \"gcms\", use comparing GCMs. label.endyear logical. Add label final year observational time series. endlabel character. Add label end simulated time series. Options \"change\", indicate change year 2100 relative 1961-1990 baseline, \"gcms\" indicate global climate model. yearmarkers logical. Add white points observational time series visual aid. yearlines logical. Add vertical lines every fifth year visual reference legend_pos character. Position legend. Viable options c(\"bottomright\", \"bottomleft\", \"topleft\", \"topright\").","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_preprocess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Time series plots of climate change — plot_timeSeries_preprocess","text":"NULL. Draws plot active graphics device.","code":""},{"path":"https://bcgov.github.io/climr/reference/plot_timeSeries_preprocess.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Time series plots of climate change — plot_timeSeries_preprocess","text":"input table X provides climate data single location average multiple locations. purpose conducting generation input table separate function allow users make multiple calls plot_timeSeries() without needing generate inputs time. combinations var1 var2 compatible meaningful. Examples meaningful combinations winter vs summer values climate var minimum vs. maximum temperatures. Downloads GCM time series take time. plot_timeSeries_input() function can take ~5 minutes run first time called location. time series cached, need downloaded .","code":""},{"path":"https://bcgov.github.io/climr/reference/pre_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Pre cache data for presets or custom areas — pre_cache","title":"Pre cache data for presets or custom areas — pre_cache","text":"function allows users efficiently pre-cache data specific study region, meaning wait data download analysis. Currently, function supports caching reference maps, future gcm periods.","code":""},{"path":"https://bcgov.github.io/climr/reference/pre_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pre cache data for presets or custom areas — pre_cache","text":"","code":"pre_cache(   region = c(\"BC\", \"WNA\", \"NA\"),   bbox = NULL,   gcms = NULL,   ssps = NULL,   gcm_periods = NULL,   max_run = 0 )"},{"path":"https://bcgov.github.io/climr/reference/pre_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pre cache data for presets or custom areas — pre_cache","text":"region character. Preset region; options one \"BC\", \"WNA\", \"NA\" bbox optional custom bounding box (SpatExtent) region interest. bbox specified, region ignored. gcms character. Vector labels global circulation models use. Can obtained list_gcms(). Default GCMs available. ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. gcm_periods character. 20-year reference periods GCM simulations. Options list_gcm_periods(). max_run integer. Maximum number model runs include, including ensemble mean. Runs included order found models data max_run reached. Defaults 0L.","code":""},{"path":"https://bcgov.github.io/climr/reference/pre_cache.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pre cache data for presets or custom areas — pre_cache","text":"Since reference climatologies stored high resolution, downloading large region database can slow due tile stitching required. Thus, speed portion, built API database server clips full GeoTiff using gdalwarp. allows download happen instead tiles, substantially faster. Since GCM anomalies much lower resolution, downloading database sufficiently fast.","code":""},{"path":"https://bcgov.github.io/climr/reference/process_ensemble.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for processing time series data for gcms or compiled ensemble — process_ensemble","title":"Function for processing time series data for gcms or compiled ensemble — process_ensemble","text":"Function processing time series data gcms compiled ensemble","code":""},{"path":"https://bcgov.github.io/climr/reference/process_ensemble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for processing time series data for gcms or compiled ensemble — process_ensemble","text":"","code":"process_ensemble(   dt,   x,   var,   scenarios.selected,   scenarios,   showrange = TRUE,   simplify = TRUE,   gcm = NULL,   refline = FALSE,   showmean = TRUE,   element,   compile = TRUE,   var2 = NULL,   element1,   element2,   yeartime.names,   yeartimes,   yeartime )"},{"path":"https://bcgov.github.io/climr/reference/process_ensemble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for processing time series data for gcms or compiled ensemble — process_ensemble","text":"dt empty data table x climate data var TODO scenarios.selected TODO scenarios TODO showrange logical. Plot shaded region indicating minimum maximum selected ensemble GCM simulations selected scenario. simplify logical. Simplify ensemble range mean using smoothing spline. gcm TODO refline logical. Plot 1961-1990 reference period mean selected var extend line year 2100 visual reference. showmean logical. Plot ensemble mean time series. Multi-model ensemble means calculated mean simulations model. element TODO compile logical. Compile multiple global climate models multi-model ensemble. FALSE single-model ensembles plotted individually. var2 character. second climate var plot combination var1. options list_vars(). element1 TODO element2 TODO yeartime.names TODO yeartimes TODO yeartime TODO","code":""},{"path":"https://bcgov.github.io/climr/reference/process_one_climaterast.html","id":null,"dir":"Reference","previous_headings":"","what":"Process climate raster data for specific coordinates — process_one_climaterast","title":"Process climate raster data for specific coordinates — process_one_climaterast","text":"function processes climate raster data extracting values specified coordinates using bilinear interpolation transforming data according specified type.","code":""},{"path":"https://bcgov.github.io/climr/reference/process_one_climaterast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process climate raster data for specific coordinates — process_one_climaterast","text":"","code":"process_one_climaterast(   climaterast,   res,   xyz,   timeseries = FALSE,   type = c(\"gcms\", \"gcm_hist_ts\", \"obs\", \"obs_ts\") )"},{"path":"https://bcgov.github.io/climr/reference/process_one_climaterast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process climate raster data for specific coordinates — process_one_climaterast","text":"climaterast Raster object containing climate data res Rresolution/scaling factors xyz terra::SpatRaster single layer containing elevation values metres, data.frame following columns \"long\", \"lat\", \"elev\", unique \"id\". extra columns ignored output. timeseries Logical indicating data processed time series (default: FALSE) type Character specifying type climate data","code":""},{"path":"https://bcgov.github.io/climr/reference/process_one_climaterast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process climate raster data for specific coordinates — process_one_climaterast","text":"data.table containing processed climate data columns depending type: \"gcms\": id, GCM, SSP, RUN, PERIOD, lat, elev, climate variables \"gcm_hist_ts\": id, GCM, RUN, PERIOD, lat, elev, climate variables \"obs\": id, PERIOD, lat, elev, climate variables \"obs_ts\": id, DATASET, PERIOD, lat, elev, climate variables","code":""},{"path":"https://bcgov.github.io/climr/reference/process_one_climaterast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process climate raster data for specific coordinates — process_one_climaterast","text":"function performs following steps: Crops raster extent around input coordinates Extracts values using bilinear interpolation Applies scaling factors res Reshapes data based specified type","code":""},{"path":"https://bcgov.github.io/climr/reference/summarize_downscale_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize downscale for plot inputs — summarize_downscale_output","title":"Summarize downscale for plot inputs — summarize_downscale_output","text":"function summarize downscale prepare input plots","code":""},{"path":"https://bcgov.github.io/climr/reference/summarize_downscale_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize downscale for plot inputs — summarize_downscale_output","text":"","code":"summarize_downscale_output(   xyz = NULL,   gcms = list_gcms()[c(1, 4, 5, 6, 7, 10, 11, 12)],   ssps = list_ssps()[2],   max_run = 10L,   obs_years = list_obs_years(),   gcm_hist_years = list_gcm_hist_years(),   gcm_ssp_years = list_gcm_ssp_years(),   use_downscale_db = FALSE,   cache = TRUE,   vars = NULL,   downscale_results = NULL,   ... )"},{"path":"https://bcgov.github.io/climr/reference/summarize_downscale_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize downscale for plot inputs — summarize_downscale_output","text":"xyz terra::SpatRaster single layer containing elevation values metres, data.frame following columns \"long\", \"lat\", \"elev\", unique \"id\". extra columns ignored output. gcms character. Vector global climate model names. Options list_gcms(). ssps character. Vector SSP-RCP scenarios (representative concentration pathways paired shared socioeconomic pathways). Options list_ssps(). Defaults scenarios available. max_run integer. Maximum number model runs include, including ensemble mean. Runs included order found models data max_run reached. Defaults 0L. obs_years integer. Vector years obtain individual years time series observational climate data. See list_obs_years() available years. gcm_hist_years character.  Timeseries years GCM simulations historical scenario. See list_gcm_hist_years() available years. gcm_ssp_years character. Timeseries years GCM simulations future scenarios specified ssps. See list_gcm_ssp_years() available years. use_downscale_db function downscale_db used instead downscale cache logical. Cache data locally? Default TRUE vars character vector vars needs summarize downscale_results optional, want pass precomputed downscale results ... Additional arguments passed downscale downscale_db","code":""},{"path":"https://bcgov.github.io/climr/reference/summarize_downscale_output.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize downscale for plot inputs — summarize_downscale_output","text":"data.table containing averaged climate variables period, including monthly temperature (average, min, max) precipitation values (Tave, Tmin, Tmax, PPT) 12 months","code":""},{"path":"https://bcgov.github.io/climr/reference/summarize_downscale_output.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarize downscale for plot inputs — summarize_downscale_output","text":"","code":"if (FALSE) { # \\dontrun{ in_xyz <- data.frame(lon = -127.7052, lat = 55.3557, elev = 291, id = 1) summarize_downscale_output(in_xyz) summarize_downscale_output(in_xyz, max_run = 1L,    gcm_hist_years = 1950:2015,    gcm_ssp_years = 2015:2040) } # }"},{"path":"https://bcgov.github.io/climr/reference/tif_folder_gen.html","id":null,"dir":"Reference","previous_headings":"","what":"Process a tif folder of TminXX.tif, TmaxXX.tif, PPTXX.tif to create a set of climate variables tifs — tif_folder_gen","title":"Process a tif folder of TminXX.tif, TmaxXX.tif, PPTXX.tif to create a set of climate variables tifs — tif_folder_gen","text":"Process tif folder TminXX.tif, TmaxXX.tif, PPTXX.tif create set climate variables tifs","code":""},{"path":"https://bcgov.github.io/climr/reference/tif_folder_gen.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process a tif folder of TminXX.tif, TmaxXX.tif, PPTXX.tif to create a set of climate variables tifs — tif_folder_gen","text":"","code":"tif_folder_gen(dir, overwrite = FALSE)"},{"path":"https://bcgov.github.io/climr/reference/tif_folder_gen.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process a tif folder of TminXX.tif, TmaxXX.tif, PPTXX.tif to create a set of climate variables tifs — tif_folder_gen","text":"dir folder path. overwrite logical. Replace existing files. Default FALSE.","code":""},{"path":"https://bcgov.github.io/climr/reference/vancouver.html","id":null,"dir":"Reference","previous_headings":"","what":"Example line data — vancouver","title":"Example line data — vancouver","text":"Shapefile coast Vancouver, BC, Canada. Mostly used plotting. use data set, need terra::unwrap first, e.g.: vancouver <- terra::unwrap(get(data(vancouver)))","code":""},{"path":"https://bcgov.github.io/climr/reference/vancouver.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example line data — vancouver","text":"","code":"vancouver"},{"path":"https://bcgov.github.io/climr/reference/vancouver.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example line data — vancouver","text":"PackedSpatVector","code":""},{"path":"https://bcgov.github.io/climr/reference/vancouver.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example line data — vancouver","text":"todo add/describe source","code":""},{"path":"https://bcgov.github.io/climr/reference/vancouver_points.html","id":null,"dir":"Reference","previous_headings":"","what":"Example point locations — vancouver_points","title":"Example point locations — vancouver_points","text":"Shapefile point locations North Vancouver, BC, Canada. use data set, need terra::unwrap first, e.g.: vancouver_points <- terra::unwrap(get(data(vancouver_points)))","code":""},{"path":"https://bcgov.github.io/climr/reference/vancouver_points.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example point locations — vancouver_points","text":"","code":"vancouver_points"},{"path":"https://bcgov.github.io/climr/reference/vancouver_points.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example point locations — vancouver_points","text":"PackedSpatVector","code":""},{"path":"https://bcgov.github.io/climr/reference/vancouver_points.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example point locations — vancouver_points","text":"derived dem_vancouver","code":""},{"path":"https://bcgov.github.io/climr/reference/vancouver_poly.html","id":null,"dir":"Reference","previous_headings":"","what":"Example polygon locations — vancouver_poly","title":"Example polygon locations — vancouver_poly","text":"Shapefile North Vancouver polygon format, BC, Canada. use data set, need terra::unwrap first, e.g.: vancouver_poly <- terra::unwrap(get(data(vancouver_poly)))","code":""},{"path":"https://bcgov.github.io/climr/reference/vancouver_poly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example polygon locations — vancouver_poly","text":"","code":"vancouver_poly"},{"path":"https://bcgov.github.io/climr/reference/vancouver_poly.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example polygon locations — vancouver_poly","text":"PackedSpatVector","code":""},{"path":"https://bcgov.github.io/climr/reference/vancouver_poly.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example polygon locations — vancouver_poly","text":"derived dem_vancouver","code":""},{"path":"https://bcgov.github.io/climr/reference/variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Available climate variables — variables","title":"Available climate variables — variables","text":"List available climate variables climr","code":""},{"path":"https://bcgov.github.io/climr/reference/variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Available climate variables — variables","text":"","code":"variables"},{"path":"https://bcgov.github.io/climr/reference/variables.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Available climate variables — variables","text":"data.table columns: Code variable code name Variable variable description (full name) Code_Element code climate element (e.g. PPT) Element name climate element (e.g. precipitation) Code_Time code time year. Blank annual variables Time time year variable corresponds (e.g, summer, August) Category time resolution (e.g., annual, monthly, seasonal, etc.) Type type variable. Differentiates interval ratio variables Unit unit measurement. Blank functionally unitless variables unit contained variable name Code_ClimateNA variable code used ClimateNA","code":""},{"path":"https://bcgov.github.io/climr/reference/weather_stations.html","id":null,"dir":"Reference","previous_headings":"","what":"BC Weather Station Data - PCDS — weather_stations","title":"BC Weather Station Data - PCDS — weather_stations","text":"points shapefile weather stations BC Pacific Climate Impacts Consortium. Stations without elevation data excluded.","code":""},{"path":"https://bcgov.github.io/climr/reference/weather_stations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"BC Weather Station Data - PCDS — weather_stations","text":"","code":"weather_stations"},{"path":"https://bcgov.github.io/climr/reference/weather_stations.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"BC Weather Station Data - PCDS — weather_stations","text":"PackedSpatVector","code":""},{"path":"https://bcgov.github.io/climr/reference/weather_stations.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"BC Weather Station Data - PCDS — weather_stations","text":"https://services.pacificclimate.org/met-data-portal-pcds/app/","code":""},{"path":"https://bcgov.github.io/climr/reference/weather_stations.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"BC Weather Station Data - PCDS — weather_stations","text":"use data set, need terra::unwrap first, e.g.: weather_stations <- terra::unwrap(get(data(weather_stations)))","code":""},{"path":"https://bcgov.github.io/climr/reference/xyzDT.html","id":null,"dir":"Reference","previous_headings":"","what":"Example table of point locations — xyzDT","title":"Example table of point locations — xyzDT","text":"data.table point locations elevation. simplified cleaned-version weather_stations dataset, incomplete cases removed.","code":""},{"path":"https://bcgov.github.io/climr/reference/xyzDT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example table of point locations — xyzDT","text":"","code":"xyzDT"},{"path":"https://bcgov.github.io/climr/reference/xyzDT.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example table of point locations — xyzDT","text":"data.table","code":""},{"path":"https://bcgov.github.io/climr/reference/xyzDT.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example table of point locations — xyzDT","text":"https://services.pacificclimate.org/met-data-portal-pcds/app/","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/news/index.html","id":"bug-fixes-0-2-2","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"climr 0.2.2","text":"Various minor bug fixes plotting functions, predominantly use climr-app Added MSWX dataset plot_timeSeries Fixed strange mystery bug due postgres preserving row order","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"enhancements-0-2-2","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"climr 0.2.2","text":"Updated climate variable names specify annual timeperiod (e.g. PAS –> PAS_an). Please see list_vars() updated names. downscaling SpatRasters, new variables now added reference, substantially reduces memory foot print prevents crashes. Added database retry function (hopefully fixes issues internal government networks) Added pre_cache function efficiently downloading data fro AOI avoid delays analysis.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/news/index.html","id":"bug-fixes-0-2-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"climr 0.2.1","text":"Fixed bug plot_timeSeries() prevented plotting mswx.blend dataset","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"enhancements-0-2-1","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"climr 0.2.1","text":"New function “plot_WalterLieth” creating Walter-Lieth climate diagram specified location(s) time periods.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"climr-020","dir":"Changelog","previous_headings":"","what":"climr 0.2.0","title":"climr 0.2.0","text":"lots exciting improvements release! major note, now : - Native raster downscaling, allowing SpatRaster elevation input, returning SpatRaster stack downscaled variables user-specified resolution - Optional -database downscaling. especially useful reducing time required downscaling timeseries data - updated climr mosaic base climatology, covering full North America domain, using cool generative deep-learning models filling missing areas - third timeseries dataset based MSWX/MSWEP","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"breaking-changes-0-2-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"climr 0.2.0","text":"improved database connection algorithm, removed dbCon parameter input_* functions. supply database connection, give error. Previously, climr expected bounding box vector reverse standard order. changed can now directly supply terra::ext object. Since base climatologies now cover full NA domain, removed auto option which_refmap. default now refmap_climr.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"bug-fixes-0-2-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"climr 0.2.0","text":"Fixed bug caused failure downloads gcm time series. Fixed bug CNRM-ESM2-1 future time series","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"enhancements-0-2-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"climr 0.2.0","text":"Added new parameter db_option downscale, options local, database, auto specify downscaling occur. Option auto attempts choose best option based number points type query. Added new boolean parameter ensemble_mean downscale, optionally return ensemble mean model runs. Expanded climr mosaic 1981-2010 gridded climatologies full North American domain. Learn . Added 1901-2024 gridded observational time series based multi-source weather (MSWX/MSWEP) dataset. Learn New function legend_ramp() simplified legend plotting color ramp maps, including accommodation logarithmic scaling. New function logVars() logarithmic transformation specified columns data.table. Added Known Issues section vignettes, including FFP, NFFD, PAS discrepancies ClimateNA workaround using custom refmaps.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/news/index.html","id":"bug-fixes-0-1-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"climr 0.1.1","text":"Modified Hargreaves method calculation monthly solar radiation allow calculation Eref CMD arctic circle way matches ClimateNA results. Fixed edge case tiling resulted NA values southern Mexico full North American extent queried. Fixed bug caching cache fail due incorrect folder name certain cases. Fixed bug plot_downscale() affected colors pal = \"gcms\" labels endlabel = \"gcms\" Fixed bug climr didn’t download correct run names historic GCMs Modified equations frost-free period confined range 0-365.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"enhancements-0-1-1","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"climr 0.1.1","text":"Redesigned database substantially improve speed downloading gcm ssp timeseries, especially small number points. Added run_nm parameter downscale input_gcm_* functions users can specify desired run(s). Also added list_runs_ssp() list_runs_historic()","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"known-issues-0-1-1","dir":"Changelog","previous_headings":"","what":"Known issues","title":"climr 0.1.1","text":"discrepancies climr ClimateNA values frost-free period (eFFP, bFFP, FFP) frost-free days (NFFD). FFP see issue #297; NFFD see issue #295. attempt resolve differences future version.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/news/index.html","id":"implementation-of-naming-conventions-0-1-0","dir":"Changelog","previous_headings":"","what":"Implementation of naming conventions","title":"climr 0.1.0","text":"overhauled naming functions, parameters, options make intuitive internally consistent. need revise climr code workflows accommodate changes. table correspondence specifying changes located ./data-raw/namingChanges.csv viewable calling data(name_changes). changed climate variable naming convention climate element time year always separated underscore. e.g., Tmin01 becomes Tmin_01; DD_0_01 becomes DDsub0_01. variables table called data(variables) now field “Code_ClimateNA” variable codes used ClimateBC/NA allow users crosswalk two conventions.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"user-actions-required-0-1-0","dir":"Changelog","previous_headings":"","what":"User Actions Required","title":"climr 0.1.0","text":"implement new version, users must clear cache climate data running following line code: cache_clear(). best avoid need wholesale cache-clearing future.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"bug-fixes-0-1-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"climr 0.1.0","text":"Fixed error calculation Hogg’s climatic moisture index (CMI). error inherited unreported error Equation 3 Hogg (1997). Fixed error calculation precipitation snow. PAS parameters ClimateNA climr differ originally published Wang et al. (2016). fixed --bounds error affected user queries close coastline. Added missing future 2015-2100 time series GFDL-ESM4 climate model.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"enhancements-0-1-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"climr 0.1.0","text":"Added plot_timeSeries() plot_timeSeries_input() functions generate plots 20th 21st century climate change user-selected locations climate variables. Added 1901-2022 observational time series combined Climatic Research Unit TS dataset (Temperature) Global Precipitation Climatology Centre dataset (precipitation). Extended ClimateNA observational time series 1901-2023. Added vignette (article) providing guidance climate model ensemble selection emissions scenario selection. Added vignette (article) methods used select 13 global climate models provided climr, 8-model ensemble recommended purposes.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"known-issues-0-1-0","dir":"Changelog","previous_headings":"","what":"Known issues","title":"climr 0.1.0","text":"Downloads time series take long time. looking ways speed , recommend users dedicate time prior analysis cache time series interest areas interest batch. time series cached, don’t need downloaded . Related issue time series download speed, plot_timeSeries_input() function can take >1hr run first time called location.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/news/index.html","id":"bug-fixes-0-0-4","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"climr 0.0.4","text":"Updated future timeseries data include full 2015-2100 period added missing models (built cool bash scrips using parallel quickly raster2pgsql conversion large numbers files). Updated historic modelled timeseries extend December 31, 2014. Restructured naming scheme timeseries data, updated internal dbnames table, updated postgresql functions allow hyphens table names. Reprocessed future GCM periods include North America. Fixed bug plot_bivariate() focal periods 2001-2020. Fixed caching issue fail larger numbers layers (>65000) saving .gri binary files.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"enhancements-0-0-4","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"climr 0.0.4","text":"Added checks bounding box projection.","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/news/index.html","id":"enhancements-0-0-3","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"climr 0.0.3","text":"new tests comparing reference outputs code streamlined new messages warn user meaningless downscale/climr_downscale argument combinations argument options climr_downscale(..., which_normal) now match options normal_input(..., normal) add plot_bivariate() function generate plots showing climate model ensemble variation recent future climate change. new functions list_historic_ts list_gcm_ts get available years historic/future time series","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"behaviour-changes-0-0-3","dir":"Changelog","previous_headings":"","what":"Behaviour changes","title":"climr 0.0.3","text":"xyz (argument climr_downscale downscale) in_xyz (argument get_bb), must now 4 column data.table (coercible class) lon, lat, elev id columns. columns ignored returned. Column order longer matters.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"bugfixes-0-0-3","dir":"Changelog","previous_headings":"","what":"Bugfixes","title":"climr 0.0.3","text":"cache fixes fixing geographical checks get highest resolution beyond BC, Canada fixing historic_input_ts get queried years get_bb follows column names","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"other-0-0-3","dir":"Changelog","previous_headings":"","what":"Other","title":"climr 0.0.3","text":"climr_downscale now accepts ... pass arguments downscale","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/news/index.html","id":"bugfixes-0-0-2","dir":"Changelog","previous_headings":"","what":"Bugfixes","title":"climr 0.0.2","text":"fixed temperature values composite anomalies name composite anomalies changed “normal_composite” normal_input(..., normal).","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"documentation-0-0-2","dir":"Changelog","previous_headings":"","what":"Documentation","title":"climr 0.0.2","text":"added vignettes pkgdown website climr live","code":""},{"path":[]},{"path":"https://bcgov.github.io/climr/news/index.html","id":"enhancements-0-0-1","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"climr 0.0.1","text":"continuous testing implemented via GitHub Actions code cleaned following tidyverse syntax recommendations internal function definitions now avoided improvements function documentation removal deprecated functions increased code coverage code streamlining added new composite climatologies Western Canada Western US.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"bugfixes-0-0-1","dir":"Changelog","previous_headings":"","what":"Bugfixes","title":"climr 0.0.1","text":"fixed examples fixed incomplete changing package name (climRpnw climr) added missing pkg imports fixed caching problem cached objects retrieved PostGIS server unavailable fixed model names PostGIS server, fixed bugs gcm_hist_input gcm_ts_input.","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"dependency-changes-0-0-1","dir":"Changelog","previous_headings":"","what":"Dependency changes","title":"climr 0.0.1","text":"methods removed Imports sf added Imports","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"other-0-0-1","dir":"Changelog","previous_headings":"","what":"Other","title":"climr 0.0.1","text":"old data base access functions removed","code":""},{"path":"https://bcgov.github.io/climr/news/index.html","id":"climr-0009990","dir":"Changelog","previous_headings":"","what":"climr 0.0.0.9990","title":"climr 0.0.0.9990","text":"Beta-version","code":""}]
