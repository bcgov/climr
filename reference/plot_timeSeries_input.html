<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Input data for the time series climate change plot — plot_timeSeries_input • climr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Input data for the time series climate change plot — plot_timeSeries_input"><meta name="description" content="Input data for the plot_timeSeries() function. Since these inputs are time-consuming to
generate, the purpose of conducting the generation of the input table in a separate function is
to allow users to make multiple calls to plot_timeSeries() (e.g., for comparing different
climate variables) without needing to generate the inputs each time."><meta property="og:description" content="Input data for the plot_timeSeries() function. Since these inputs are time-consuming to
generate, the purpose of conducting the generation of the input table in a separate function is
to allow users to make multiple calls to plot_timeSeries() (e.g., for comparing different
climate variables) without needing to generate the inputs each time."><meta property="og:image" content="https://bcgov.github.io/climr/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">climr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>`climr` workflows</h6></li>
    <li><a class="dropdown-item" href="../articles/climr_workflow_beg.html">Beginner `climr` workflow</a></li>
    <li><a class="dropdown-item" href="../articles/climr_workflow_int.html">Intermediate `climr` workflow</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Methods</h6></li>
    <li><a class="dropdown-item" href="../articles/methods_downscaling.html">`climr` downscaling methods</a></li>
    <li><a class="dropdown-item" href="../articles/methods_mosaic.html">The climr mosaic of North American climatologies</a></li>
    <li><a class="dropdown-item" href="../articles/methods_ensembleSelection.html">Global climate model ensemble selection</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Guidance</h6></li>
    <li><a class="dropdown-item" href="../articles/guidance_ensembleSelection.html">Climate model and scenario selection</a></li>
    <li><a class="dropdown-item" href="../articles/guidance_timeSeries.html">Gridded observational time series</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Known Issues</h6></li>
    <li><a class="dropdown-item" href="../articles/knownIssues_DiscrepanciesWithClimateNA.html">Discrepancies with ClimateNA</a></li>
    <li><a class="dropdown-item" href="../articles/knownIssues_customRefmap.html">Suboptimal handling of custom refmaps in `downscale_core`</a></li>
    <li><a class="dropdown-item" href="../articles/knownIssues_spatialAnomaly.html">Spatial anomaly near Prince George in `refmap_climatena`</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Input data for the time series climate change plot</h1>

      <div class="d-none name"><code>plot_timeSeries_input.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Input data for the <code><a href="plot_timeSeries.html">plot_timeSeries()</a></code> function. Since these inputs are time-consuming to
generate, the purpose of conducting the generation of the input table in a separate function is
to allow users to make multiple calls to <code><a href="plot_timeSeries.html">plot_timeSeries()</a></code> (e.g., for comparing different
climate variables) without needing to generate the inputs each time.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_timeSeries_input</span><span class="op">(</span></span>
<span>  <span class="va">xyz</span>,</span>
<span>  gcms <span class="op">=</span> <span class="fu"><a href="data-option-lists.html">list_gcms</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  ssps <span class="op">=</span> <span class="fu"><a href="data-option-lists.html">list_ssps</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>  max_run <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  obs_ts_dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mswx.blend"</span>, <span class="st">"cru.gpcc"</span>, <span class="st">"climatena"</span><span class="op">)</span>,</span>
<span>  obs_years <span class="op">=</span> <span class="fu"><a href="data-option-lists.html">list_obs_years</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  gcm_hist_years <span class="op">=</span> <span class="fu"><a href="data-option-lists.html">list_gcm_hist_years</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  gcm_ssp_years <span class="op">=</span> <span class="fu"><a href="data-option-lists.html">list_gcm_ssp_years</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  vars <span class="op">=</span> <span class="fu"><a href="data-option-lists.html">list_vars</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  db_option <span class="op">=</span> <span class="st">"database"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-xyz">xyz<a class="anchor" aria-label="anchor" href="#arg-xyz"></a></dt>
<dd><p>a <code><a href="https://rspatial.github.io/terra/reference/SpatRaster-class.html" class="external-link">terra::SpatRaster</a></code> with a single layer containing elevation values in metres, or a <code>data.frame</code> with the following columns
"long", "lat", "elev", and a unique "id". Any extra columns will be ignored and not output.</p></dd>


<dt id="arg-gcms">gcms<a class="anchor" aria-label="anchor" href="#arg-gcms"></a></dt>
<dd><p>character. Vector of global climate model names. Options are <code><a href="data-option-lists.html">list_gcms()</a></code>.</p></dd>


<dt id="arg-ssps">ssps<a class="anchor" aria-label="anchor" href="#arg-ssps"></a></dt>
<dd><p>character. Vector of SSP-RCP scenarios (representative concentration pathways paired with shared socioeconomic pathways).
Options are <code><a href="data-option-lists.html">list_ssps()</a></code>. Defaults to all scenarios available.</p></dd>


<dt id="arg-max-run">max_run<a class="anchor" aria-label="anchor" href="#arg-max-run"></a></dt>
<dd><p>integer. Maximum number of model runs to include, not including the ensemble mean.
Runs are included in the order they
are found in the models data until <code>max_run</code> is reached. Defaults to 0L.</p></dd>


<dt id="arg-obs-ts-dataset">obs_ts_dataset<a class="anchor" aria-label="anchor" href="#arg-obs-ts-dataset"></a></dt>
<dd><p>character. The dataset to use for observational time series data. Options
are <code>"climatena"</code> for the ClimateNA gridded time series or <code>"cru.gpcc"</code> for the combined Climatic
Research Unit TS dataset (for temperature) and Global Precipitation Climatology Centre dataset
(for precipitation).</p></dd>


<dt id="arg-obs-years">obs_years<a class="anchor" aria-label="anchor" href="#arg-obs-years"></a></dt>
<dd><p>integer. Vector of years to obtain individual years or time
series of observational climate data. See <code><a href="data-option-lists.html">list_obs_years()</a></code> for available years.</p></dd>


<dt id="arg-gcm-hist-years">gcm_hist_years<a class="anchor" aria-label="anchor" href="#arg-gcm-hist-years"></a></dt>
<dd><p>character.  Timeseries years for GCM simulations of the
historical scenario. See <code><a href="data-option-lists.html">list_gcm_hist_years()</a></code> for available years.</p></dd>


<dt id="arg-gcm-ssp-years">gcm_ssp_years<a class="anchor" aria-label="anchor" href="#arg-gcm-ssp-years"></a></dt>
<dd><p>character. Timeseries years for GCM simulations of future
scenarios specified by <code>ssps</code>. See <code><a href="data-option-lists.html">list_gcm_ssp_years()</a></code> for available years.</p></dd>


<dt id="arg-vars">vars<a class="anchor" aria-label="anchor" href="#arg-vars"></a></dt>
<dd><p>character. A vector of climate variables to compute. Supported variables
can be obtained with <code><a href="data-option-lists.html">list_vars()</a></code>. Definitions can be found in this package
<code>variables</code> dataset. Default to monthly PPT, Tmax, Tmin.</p></dd>


<dt id="arg-db-option">db_option<a class="anchor" aria-label="anchor" href="#arg-db-option"></a></dt>
<dd><p>character. One of <code>auto</code>, <code>database</code>, or <code>local</code>. Default <code>auto</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>data.table</code> of average downscaled climate variables for all locations.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function generates standardized inputs for one or multiple locations at any spatial scale.
If multiple locations are specified, the output is the average of the climate variables for all
locations.</p>
<p>Downloads of GCM time series take some time. The <code>plot_timeSeries_input()</code> function can take
~5 minutes to run for the first time it is called for a location. Once the time series are
cached, they don't need to be downloaded again.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># data frame of arbitrary points</span></span></span>
<span class="r-in"><span>  <span class="va">my_points</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    lon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">127.7300</span>, <span class="op">-</span><span class="fl">127.7500</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">55.34114</span>, <span class="fl">55.25</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    elev <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">711</span>, <span class="fl">500</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># generate the input data</span></span></span>
<span class="r-in"><span>  <span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu">plot_timeSeries_input</span><span class="op">(</span><span class="va">my_points</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># use the input to create a plot</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="plot_timeSeries.html">plot_timeSeries</a></span><span class="op">(</span><span class="va">my_data</span>, var1 <span class="op">=</span> <span class="st">"Tmin_sm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co">#'</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kiri Daust, Colin Mahony, Bruno Tremblay, Ceres Barros, Province of British Columbia.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

